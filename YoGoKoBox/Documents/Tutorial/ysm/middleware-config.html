<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>General Configurations</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('middleware-config.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">General Configurations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Middleware configuration files</h1>
<h2>Configuration folder</h2>
<p>The configuration folder of the middleware is generally located at <em><b>/etc/mw-server/</b></em>.</p>
<p>It contains the following files:</p><ul>
<li><em><b>choirconf.xml</b></em> - Main configuration file</li>
<li><em><b>log4j.properties</b></em> - Logging configuration</li>
<li><em><b>config/</b></em> - Services configuration folder</li>
<li><em><b>yogoko-middleware.license</b></em> - License file of the middleware server</li>
</ul>
<h2>Main configuration file</h2>
<p>The <em><b>choirconf.xml</b></em> file contains configuration of internals mechanisms, APIs, and the general middleware behavior. This configuration file is formatted in XML.</p>
<p>The configuration is surrounded by a *&lt;configuration&gt;* tag. Then, configuration sections are located in the following tags:</p><ul>
<li><em><b>globalconf</b></em> - Global configuration section, various configurations</li>
<li><em><b>ipc</b></em> - Configuration of the Inter Process Communication interface</li>
<li><em><b>license</b></em> - Configuration of license checking</li>
<li><em><b>websocket</b></em> - Configuration of the Websocket interface</li>
<li><em><b>uppertester</b></em> - Configuration of the internal Uppertester client (deprecated), the external Uppertester client should be preferred</li>
<li><em><b>tlog</b></em> - Informations for building SCOOP TLogs (deprecated)</li>
<li><em><b>services</b></em> - List of services</li>
<li><em><b>caches</b></em> - List of caches</li>
</ul>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Type </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>globalconf </td><td>start_services </td><td>boolean </td><td>Whether services in config/ directory should be configured and started automatically on middleware startup </td><td>- </td></tr>
<tr>
<td>globalconf </td><td>its_su_id </td><td>integer </td><td>Static StationID for this ITS Station, overriden by security if itssecurity_idchange is enabled </td><td>- </td></tr>
<tr>
<td>globalconf </td><td>stationtype </td><td>integer </td><td>Static StationType for this ITS Station, overriden by security if itssecurity_idchange is enabled </td><td>- </td></tr>
<tr>
<td>globalconf </td><td>itssecurity </td><td>boolean </td><td>Whether ITS security should be enabled </td><td>- </td></tr>
<tr>
<td>globalconf </td><td>itssecurity_idchange </td><td>boolean </td><td>Whether ITS security should be allowed to change identifiers for this station </td><td>- </td></tr>
<tr>
<td>ipc </td><td>enabled </td><td>boolean </td><td>Whether or not IPC connections are enabled </td><td>true </td></tr>
<tr>
<td>ipc </td><td>port </td><td>integer </td><td>Port to be used for IPC connections from middleware clients </td><td>- </td></tr>
<tr>
<td>ipc </td><td>min_buffer_size </td><td>integer </td><td>Minimum allocation size for IPC buffer </td><td>8192 </td></tr>
<tr>
<td>ipc </td><td>max_buffer_size </td><td>integer </td><td>Maximum allocation size for IPC buffer </td><td>8192 </td></tr>
<tr>
<td>license </td><td>mode </td><td>string </td><td>Licensing mode ('static', "download-static", or 'online') </td><td>static </td></tr>
<tr>
<td>license </td><td>filepath </td><td>string </td><td>Path to the license file </td><td>yogoko-middleware.license </td></tr>
<tr>
<td>license </td><td>certpath </td><td>string </td><td>Path to the certificate file </td><td>yogoko-middleware.p12 </td></tr>
<tr>
<td>license </td><td>truststore </td><td>string </td><td>Path to the java truststore for connection to the https server </td><td>/etc/ssl/certs/java/cacerts </td></tr>
<tr>
<td>license </td><td>renewaltimethreshold </td><td>integer </td><td>Threshold time before expiration of the license to trigger renewal (in seconds) </td><td>2592000 </td></tr>
<tr>
<td>websocket </td><td>enabled </td><td>boolean </td><td>Whether or not the websocket server should be started </td><td>- </td></tr>
<tr>
<td>websocket </td><td>port </td><td>integer </td><td>TCP port to use for creating of the websocket server </td><td>- </td></tr>
<tr>
<td>websocket </td><td>root_path </td><td>string </td><td>HTTP base path for websocket URLs </td><td>- </td></tr>
<tr>
<td>websocket </td><td>min_dynamic_id </td><td>integer </td><td>Use this minimum for dynamic allocation of application Ids </td><td>- </td></tr>
<tr>
<td>websocket </td><td>max_dynamic_id </td><td>integer </td><td>Use this maximum for dynamic allocation of application Ids </td><td>- </td></tr>
<tr>
<td>websocket </td><td>reply_ping </td><td>boolean </td><td>Whether the websocket should reply to ping requests from clients </td><td>- </td></tr>
<tr>
<td>services[].service</td><td>name </td><td>string </td><td>Name identifying the service in the config mechanism </td><td>- </td></tr>
<tr>
<td>services[].service</td><td>class </td><td>string </td><td>Java Classpath of the service (for embedded middleware services) </td><td>- </td></tr>
<tr>
<td>services[].service</td><td>remote </td><td>boolean </td><td>Whether this service is implementation outside of the middleware </td><td>false </td></tr>
<tr>
<td>caches[].cache </td><td>id </td><td>integer </td><td>Cache identifier to configure (special value "default" configures caches that are not declared in configuration) </td><td>- </td></tr>
<tr>
<td>caches[].cache </td><td>timeToLiveSecond</td><td>integer </td><td>Expiration time of an entry </td><td>- </td></tr>
<tr>
<td>caches[].cache </td><td>size </td><td>integer </td><td>Maximum size of a cache before removal of oldest entries </td><td>- </td></tr>
</table>
<p><em><b>choirconf.xml</b></em></p>
<div class="fragment"><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;!-- Configuration for Choir --&gt;</div><div class="line">&lt;!-- --&gt;</div><div class="line">&lt;configuration&gt;</div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        Global configuration for mw-server:</div><div class="line">        start_services: Whether services in config/ directory should be</div><div class="line">                configured and started automatically on middleware startup</div><div class="line">    --&gt;</div><div class="line">    &lt;globalconf start_services = &quot;true&quot; /&gt;</div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        Configuration for IPC connections (moved from global configuration):</div><div class="line">        enabled: Whether or not IPC connections are enabled</div><div class="line">        port: Port to be used for IPC connections from middleware clients</div><div class="line">        min_buffer_size: Minimum allocation size for IPC buffer</div><div class="line">        max_buffer_size: Maximum allocation size for IPC buffer</div><div class="line">        cleanup_on_channel_error: Cleanup client listener thread on channel error</div><div class="line">    --&gt;</div><div class="line">    &lt;ipc</div><div class="line">        enabled             = &quot;true&quot;</div><div class="line">        port                = &quot;49154&quot;</div><div class="line">        min_buffer_size     = &quot;4096&quot;</div><div class="line">        max_buffer_size     = &quot;8192&quot;</div><div class="line">        cleanup_on_channel_error = &quot;true&quot; /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        Configuration for license verification:</div><div class="line">        mode: licensing mode (static or online)</div><div class="line">        filepath: Path to the license file or the client certificate</div><div class="line">        truststore: Truststore to use for connecting to YoGoKo licensing server</div><div class="line">    --&gt;</div><div class="line">    &lt;license</div><div class="line">        mode                = &quot;static&quot;</div><div class="line">        filepath            = &quot;yogoko-middleware.license&quot;</div><div class="line">        truststore          = &quot;/etc/ssl/certs/java/cacerts&quot; /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        Configuration for the websocket API:</div><div class="line">        enabled: Whether or not the websocket server should be started</div><div class="line">        port: TCP port to use for creating of the websocket server</div><div class="line">        root_path: HTTP base path for websocket URLs</div><div class="line">        min_dynamic_id: Use this minimum for dynamic allocation of application Ids</div><div class="line">        max_dynamic_id: Use this maximum for dynamic allocation of application Ids</div><div class="line">        reply_ping: Whether the websocket should reply to ping requests from clients</div><div class="line">    --&gt;</div><div class="line">    &lt;websocket</div><div class="line">        enabled             = &quot;true&quot;</div><div class="line">        port                = &quot;8080&quot;</div><div class="line">        root_path           = &quot;/&quot;</div><div class="line">        min_dynamic_id      = &quot;65535&quot;</div><div class="line">        max_dynamic_id      = &quot;2147483647&quot;</div><div class="line">        reply_ping          = &quot;true&quot; /&gt;</div><div class="line"></div><div class="line"></div><div class="line">        &lt;!--</div><div class="line">        Configuration for faulty messages recording:</div><div class="line">        enabled: Whether or not faulty messages should be recorded</div><div class="line">        path: Path on the filesystem where to record faulty messages</div><div class="line">    --&gt;</div><div class="line">    &lt;tlog</div><div class="line">        enabled             = &quot;false&quot;</div><div class="line">        path                = &quot;/var/lib/scoop/tlog&quot; /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        List of services that may be controlled by the ConfigService mechanism.</div><div class="line">        These services may be automatically configured and started at</div><div class="line">        middleware startup if start_services is enabled. The default list</div><div class="line">        should be kept untouched.</div><div class="line"></div><div class="line">        For each service:</div><div class="line">        name: Symbolic unique name identifying this service. The name is used</div><div class="line">                to identify this service in configuration files</div><div class="line">        class: Class controlling the service. This class must implement the</div><div class="line">                ConfigMessageListener interface.</div><div class="line">        remote: Whether this service is declared as an external service</div><div class="line">    --&gt;</div><div class="line">    &lt;services&gt;</div><div class="line">        &lt;service name=&quot;V2XService&quot; class=&quot;fr.yogoko.choir.facilities.v2xservice.V2XService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;M2MService&quot; class=&quot;fr.yogoko.choir.facilities.m2mservice.M2MService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;M2MCollector&quot; class=&quot;fr.yogoko.choir.facilities.m2mservice.M2MCollector&quot;/&gt;</div><div class="line">        &lt;service name=&quot;HybridGnService&quot; class=&quot;fr.yogoko.choir.facilities.hybridservice.HybridGnService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;PositionProvider&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.PositionProviderImpl&quot;/&gt;</div><div class="line">        &lt;service name=&quot;Pvt&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.Pvt&quot;/&gt;</div><div class="line">        &lt;service name=&quot;StaticProvider&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.StaticProvider&quot;/&gt;</div><div class="line">        &lt;service name=&quot;GpsProvider&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.GpsProvider&quot;/&gt;</div><div class="line">        &lt;service name=&quot;NtpProvider&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.NtpProvider&quot;/&gt;</div><div class="line">        &lt;service name=&quot;PathHistoryManager&quot; class=&quot;fr.yogoko.choir.facilities.positionmanager.PathHistoryManager&quot;/&gt;</div><div class="line">        &lt;service name=&quot;CaService&quot; class=&quot;fr.yogoko.choir.facilities.caservice.CaServiceImpl&quot;/&gt;</div><div class="line">        &lt;service name=&quot;DenService&quot; class=&quot;fr.yogoko.choir.facilities.denservice.DenServiceImpl&quot;/&gt;</div><div class="line">        &lt;service name=&quot;SpatService&quot; class=&quot;fr.yogoko.choir.facilities.spatservice.SpatService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;IviService&quot; class=&quot;fr.yogoko.choir.facilities.iviservice.IviServiceImpl&quot;/&gt;</div><div class="line">        &lt;!-- SAE specific services --&gt;</div><div class="line">        &lt;service name=&quot;BsService&quot; class=&quot;fr.yogoko.choir.facilities.bsservice.BsService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;FrameService&quot; class=&quot;fr.yogoko.choir.facilities.dsrcframeservice.FrameService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;LdmService&quot; class=&quot;fr.yogoko.choir.facilities.ldm.LdmService&quot;/&gt;</div><div class="line">        &lt;service name=&quot;PreserveClient&quot; class=&quot;fr.yogoko.choir.security.preserve.PreserveClient&quot;/&gt;</div><div class="line">        &lt;service name=&quot;IdentityManager&quot; class=&quot;fr.yogoko.choir.management.identitymanager.IdentityManager&quot;/&gt;</div><div class="line">        &lt;service name=&quot;SecurityClient&quot; class=&quot;fr.yogoko.choir.security.securityclient.SecurityClient&quot;/&gt;</div><div class="line">        &lt;service name=&quot;RadioManagement&quot; class=&quot;fr.yogoko.choir.management.radio.RadioManagement&quot;/&gt;</div><div class="line">        &lt;service name=&quot;Recorder&quot; class=&quot;fr.yogoko.choir.facilities.database.Recorder&quot;/&gt;</div><div class="line">        &lt;service name=&quot;TrafficLight&quot; class=&quot;fr.yogoko.choir.applications.trafficlight.TrafficLightSender&quot;/&gt;</div><div class="line">        &lt;service name=&quot;DenmTrigApplication&quot; class=&quot;fr.yogoko.choir.applications.denmtrigapplication.DenmTriggeringApplication&quot;/&gt;</div><div class="line"></div><div class="line">        &lt;!-- Remote services --&gt;</div><div class="line">        &lt;service name=&quot;AutotalksServices&quot; remote=&quot;true&quot;/&gt;</div><div class="line">        &lt;service name=&quot;AutotalksCr2Gnss&quot; remote=&quot;true&quot;/&gt;</div><div class="line">        &lt;service name=&quot;AutotalksCr2V2X&quot; remote=&quot;true&quot;/&gt;</div><div class="line">        &lt;service name=&quot;AutotalksCr2CV2X&quot; remote=&quot;true&quot;/&gt;</div><div class="line">        &lt;service name=&quot;itsnet&quot; remote=&quot;true&quot;/&gt;</div><div class="line">    &lt;/services&gt;</div><div class="line"></div><div class="line"></div><div class="line">    &lt;!--</div><div class="line">        Expiration parameters for caches.</div><div class="line"></div><div class="line">        For each cache:</div><div class="line">        id: Cache identifier to configure</div><div class="line">        timeToLiveSecond: expiration time of an entry</div><div class="line">        size: maximum size of a cache before removal of old entries</div><div class="line">    --&gt;</div><div class="line">    &lt;caches&gt;</div><div class="line">        &lt;!--  VDP cache configuration (CAN/GPS)--&gt;</div><div class="line">        &lt;cache id=&quot;0&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">        &lt;!--  CAM cache configuration --&gt;</div><div class="line">        &lt;cache id=&quot;1&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">        &lt;!-- DENM originating cache--&gt;</div><div class="line">        &lt;cache id=&quot;2&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">        &lt;!-- DENM receiving cache --&gt;</div><div class="line">        &lt;cache id=&quot;21&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">        &lt;!-- DENM forwarding cache --&gt;</div><div class="line">        &lt;cache id=&quot;22&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">        &lt;!--  Default cache configuration--&gt;</div><div class="line">        &lt;cache id=&quot;default&quot; timeToLiveSecond=&quot;-2147483648&quot; size=&quot;65535&quot;/&gt;</div><div class="line">    &lt;/caches&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;/configuration&gt;</div></div><!-- fragment --><h2>Logging configuration</h2>
<p>The <em><b>log4j.properties</b></em> file contains configuration for logging messages generated by the middleware. This configuration file is formatted in log4j properties format. This section provides basic informations to modify this configuration, a complete documentation is available on log4j website.</p>
<p><b>Base log-level</b></p>
<p>The middleware-wide logging is commanded by the <em><b>log4j.rootLogger</b></em> directive. The root logger controls the base log-level and the destination of logs (log file, stdout, syslog, etc).</p>
<p>The base logging directive is as follows: </p><div class="fragment"><div class="line">log4j.rootLogger=&lt;level&gt;, &lt;logger&gt;</div></div><!-- fragment --><p><em><b>Arguments:</b></em></p><ul>
<li>&lt;level&gt; may set level to the appropriate log level: ERROR, WARN, INFO, DEBUG, TRACE</li>
<li>&lt;logger&gt; should be set to systemd for systemd logging, and console for stdout logging (debugging), or to your own logger</li>
</ul>
<p><b>Loggers</b></p>
<p>Loggers are declared by <em><b>log4j.appender</b></em> directives. The base configuration file contains directives for console logging and systemd/journald logging.</p>
<p><em><b>Note:</b></em> console and systemd loggers both log to stdout. The difference is that systemd log lines are prepended by a "&lt;n&gt;" field, which informs systemd about the criticity of the log.</p>
<p><b>Specific service logging</b></p>
<p>Specific service logging may be controlled to increase or decrease verbosity of some services.</p>
<p>The directive is as follows: </p><div class="fragment"><div class="line">log4j.logger.&lt;class-tag&gt;=&lt;level&gt;, &lt;logger&gt;</div></div><!-- fragment --><p><em><b>Arguments:</b></em></p><ul>
<li>&lt;class-tag&gt; is the tag identifying the class, it is displayed in logs at the beginning of each log line</li>
<li>&lt;level&gt; may set level to the appropriate log level (see base log-level)</li>
<li>&lt;logger&gt; should be set to the appropriate logger (see base log-level)</li>
</ul>
<p><em><b>log4j.properties</b></em></p>
<div class="fragment"><div class="line">#</div><div class="line"># log4j.properties</div><div class="line">#</div><div class="line">#</div><div class="line"># Root logger: Middleware-wide logging configuration</div><div class="line"># log4j.rootLogger=&lt;level&gt;, &lt;logger&gt;</div><div class="line"># &lt;level&gt; may set level to the appropriate log level: ERROR, WARN, INFO, DEBUG, TRACE</div><div class="line"># &lt;logger&gt; should be set to systemd for systemd logging, and console for stdout logging</div><div class="line">log4j.rootLogger=INFO, systemd</div><div class="line"></div><div class="line">#</div><div class="line"># Format when using console output</div><div class="line">log4j.appender.console=org.apache.log4j.ConsoleAppender</div><div class="line">log4j.appender.console.layout=org.apache.log4j.EnhancedPatternLayout</div><div class="line">log4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} [%p] %c - %m%n</div><div class="line"></div><div class="line">#</div><div class="line"># Format when using systemd output</div><div class="line">log4j.appender.systemd=org.apache.log4j.ConsoleAppender</div><div class="line">log4j.appender.systemd.layout=org.apache.log4j.EnhancedPatternLayout</div><div class="line">log4j.appender.systemd.layout.ConversionPattern=&lt;%properties{numloglevel}&gt; [%p] %c - %m%n</div><div class="line"></div><div class="line">#</div><div class="line"># User properties may be put below</div><div class="line">#</div><div class="line"># ...</div><div class="line">log4j.logger.org.eclipse.jetty=ERROR, systemd</div></div><!-- fragment --><h2>Services configuration file</h2>
<p>The <em><b>config/</b></em> folder contains configuration of services. The services configuration files are read in case <em><b>globalconf.start_services</b></em> is set to true in the middleware configuration.</p>
<p>All configuration files from this folder ending by .xml are read. Naming of files is not important, except for ordering service startup. In order to control proper ordering of services, it is recommended to names file as <em><b>&lt;NN&gt;-&lt;name&gt;.xml</b></em>, where <em><b>&lt;NN&gt;</b></em> is two digits corresponding to the service priority, and <em><b>&lt;name&gt;</b></em> is a human-comprehensible name of the service.</p>
<p>The structure of a service configuration file as follows:</p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div><div class="line">&lt;<span class="keywordtype">configuration</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">service</span> <span class="keyword">start</span>=<span class="stringliteral">&quot;true&quot;</span> <span class="keyword">instance</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;<span class="keyword">Service</span> <span class="keyword">name</span>&lt;/<span class="keywordtype">service</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">config</span>&gt;</div><div class="line">        <span class="comment">&lt;!-- Service configuration --&gt;</span></div><div class="line">    &lt;/<span class="keywordtype">config</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">configuration</span>&gt;</div></div><!-- fragment --><p>The <em><b>&lt;service&gt;</b></em> tag identifies the service and action to perform:</p><ul>
<li>The value of the tag identifies the service to control as listed in the <em><b>&lt;services&gt;</b></em> section in the middleware configuration file.</li>
<li>The <em><b>service.instance</b></em> element defines the instance id to control, however only the instance id 0 is currently supported.</li>
<li>The <em><b>service.start</b></em> element controls whether the service should be started or not. If this value is set to false, the configuration is loaded but the service is not started.</li>
</ul>
<p>The <em><b>&lt;config&gt;</b></em> tag encloses the configuration for the service. Directives inside this section match the following structure:</p>
<div class="fragment"><div class="line">&lt;<span class="keywordtype">section</span> <span class="keyword">field</span>=<span class="stringliteral">&quot;value&quot;</span> /&gt;</div></div><!-- fragment --><p>Name of section, field and value are service specific. Naming matches section and fields of configuration MIBs. The service-specific configuration MIBs are detailled in pages Middleware services.</p>
<h2>License file</h2>
<p>A license file is needed for running YoGoKo Smart Middleware. By default, the license file is located in the configuration folder as <em><b>yogoko-middleware.license</b></em>.</p>
<p>The licensing is detailled at page <a class="el" href="middleware-licensing.html">Licensing modes</a></p>
<p><em><b>Note:</b></em> Hardware platforms provided by YoGoKo come pre-bundled with the license file installed.</p>
<h1>List of well-known identifiers</h1>
<h2>Well know message id</h2>
<p>To be documented in a future version</p>
<h2>Well know cache/Object id</h2>
<p>To be documented in a future version </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Tue Mar 14 2023 16:13:24 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
