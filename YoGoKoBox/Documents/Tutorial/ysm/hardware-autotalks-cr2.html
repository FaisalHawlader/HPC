<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Autotalks Craton2</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hardware-autotalks-cr2.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Autotalks Craton2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Overview</h1>
<p>This page describes how the Autotalks Craton2 CUT2 and CUT3 platforms are supported by YoGoKo.</p>
<h2>Supported Autotalks SDK</h2>
<p><b>YoGoKo Autotalks Cr2 services</b> are developed and built against several SDKs, supporting CUT2 and CUT3 revisions of Autotalks CPU. CUT2 versions only support V2X operations, while CUT3 versions support both V2X and C-V2X operations.</p>
<p>The following Autotalks SDKs are supported:</p><ul>
<li><b>5.8.2</b> (CUT2, obsolete)</li>
<li><b>5.13.4</b> (CUT2)</li>
<li><b>5.15.0</b> (CUT3)</li>
</ul>
<p>Autotalks SDKs for Craton2 come with various configuration and firmware files which must be loaded with binaries in order to properly setup hardware and SDK. YoGoKo deliveries come bundled with these files.</p>
<p>Some of these files may be amended by the HW integrator/EMS and may need to be replaced or patched.</p>
<h2>YoGoKo Craton2 services</h2>
<p>Autotalks Craton2 platforms are supported by YoGoKo via several services collectively named <b>YoGoKo Autotalks Cr2 services</b> and a custom Yocto image integrated and built by YoGoKo from Autotalks Yocto BSP.</p>
<p>Contrarily to the integration of the Autotalks Craton1 platform which is supported by a monolithic image, the Autotalks Craton2 platform is supported by multiple services, each being dedicated to a specific hardware functionality (Gnss, Hsm, V2X, CV2X).</p>
<p>Each service is supported by a dedicated binary which must be executed on the Autotalks Craton2 Yocto.</p>
<p>The following services have been developed:</p>
<table class="doxtable">
<tr>
<th>Service name </th><th>Software </th><th>Description  </th></tr>
<tr>
<td>AutotalksCr2V2X </td><td>ysmart-cr2-v2x </td><td>Management of radio interfaces (V2X mode) </td></tr>
<tr>
<td>AutotalksCr2CV2X </td><td>ysmart-cr2-cv2x </td><td>Management of radio interfaces (CV2X mode, CUT3-only) </td></tr>
<tr>
<td>AutotalksCr2Gnss </td><td>ysmart-cr2-gnss </td><td>Management of Gnss chipsets </td></tr>
</table>
<h1>AutotalksCr2V2X service</h1>
<p>The AutotalksCr2V2X service perfoms emission and reception of frames on V2X (802.11p) radios and controls low-layer parameters and Autotalks MIBs for V2X radios.</p>
<p>In the current version, the AutotalksCr2V2X service only support a single V2X interface, statically configured to send/receive Geonetworking packets on channel CCH.</p>
<p>As the same implementation of <em>v2x bridge</em> and <em>v2x mac table</em> are used for Craton1 and Craton2 services, users may refer to page <a class="el" href="hardware-autotalks-cr1.html">Autotalks Craton1</a> for a detailled description.</p>
<h2>List of MIB entries</h2>
<p>Details of MIB entries:</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>v2x_link0 </td><td>enabled </td><td>Enable v2x link 0 service (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>bridge0 </td><td>enabled </td><td>Enable the bridge thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>bridge0 </td><td>rxport </td><td>Remote TCP port for the RX radio channel </td><td>500 (bridge1)<br />
 502 (bridge2) </td></tr>
<tr>
<td>bridge0 </td><td>txport </td><td>Local TCP port for the TX radio channel </td><td>501 (bridge1)<br />
 503 (bridge2) </td></tr>
<tr>
<td>bridge0 </td><td>rxconnected </td><td>Whether the TCP connection for the RX radio channel is established (read-only) </td><td>- </td></tr>
<tr>
<td>bridge0 </td><td>txconnected </td><td>Whether the TCP connection for the TX radio channel is established (read-only) </td><td>- </td></tr>
<tr>
<td>bridge0 </td><td>rxcount </td><td>Number of RX radio frames sent through the bridge (read-only) </td><td>- </td></tr>
<tr>
<td>bridge0 </td><td>txcount </td><td>Number of TX radio frames received from the bridge (read-only) </td><td>- </td></tr>
<tr>
<td>bridge0 </td><td>txdropped </td><td>Number of TX radio frames dropped before being sent to the radio (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>enabled </td><td>Enable the V2X mac table thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>expiration_sec </td><td>Expiration of MAC entries (in seconds) </td><td>40 </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>index </td><td>Number of entries in the mac table (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>entry_*_mac </td><td>MAC address of the emitting station </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>entry_*_rssi </td><td>RSSI of the received frame </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_0 </td><td>entry_*_last_update </td><td>UTC timestamp of the reception of the frame </td><td>- </td></tr>
</table>
<h1>AutotalksCr2CV2X service</h1>
<p>The AutotalksCr2CV2X service perfoms emission and reception of frames on the Cellular V2X (LTE-PC5) radio and controls low-layer parameters and Autotalks MIBs for the CV2X radio.</p>
<p>The support of this feature is currently experimental and subject to significant changes in the future.</p>
<h1>AutotalksCr2Gnss service</h1>
<p>The AutotalksCr2Gnss service performs reception of Gnss fixes from the Gnss chipset.</p>
<p>As the same implementation of <em>positionprovider</em> is used for Craton1 and Craton2 services, users may refer to page <a class="el" href="hardware-autotalks-cr1.html">Autotalks Craton1</a> for a detailled description.</p>
<h2>List of MIB entries</h2>
<p>Details of MIB entries:</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>positionprovider </td><td>enabled </td><td>Enable the position provider thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>positionprovider </td><td>appid </td><td>Choir application ID to connect to the middleware </td><td>124 </td></tr>
<tr>
<td>positionprovider </td><td>messageid </td><td>Choir message ID to publish positions to </td><td>201 </td></tr>
<tr>
<td>positionprovider </td><td>frequency </td><td>Frequency to sense and send positions fixs (in ms) </td><td>100 </td></tr>
<tr>
<td>positionprovider </td><td>mmcx </td><td>Whether to use the MMCX or the Fakra antenna connector (0=Fakra, 1=MMCX) </td><td>1 </td></tr>
<tr>
<td>positionprovider </td><td>is_running </td><td>Whether the service is currently running (read-only) </td><td>- </td></tr>
<tr>
<td>positionprovider </td><td>fix_count </td><td>Number of sent position fixes (read-only) </td><td>- </td></tr>
</table>
<h1>Running YoGoKo Autotalks Craton2 services</h1>
<h2>Loading the Yocto image</h2>
<p><em><b>To be documented in a future version</b></em></p>
<h2>Starting YoGoKo Autotalks Craton2 services</h2>
<p>YoGoKo Autotalks Craton2 services should be installed in order to be executed automatically at boot of Autotalks Yocto system.</p>
<p><b>Preparing the execution environment</b></p>
<p>Copy/link the following files in the execution directory of YoGoKo binaries:</p><ul>
<li>calib_file.bin: Radio calibration file (may be HW-specific)</li>
<li>dsp_sw_rev2.bin: DSP firmware for CUT2</li>
<li>dsp_sw_rev3.bin: DSP firmware for CUT3 (differs between V2X and CV2X modes)</li>
<li>rf_config.bin: RF config file (may be HW-specific)</li>
<li>sw_config.txt: SDK config file</li>
<li>cv2x_sw_config.txt: CV2X SDK config file (CV2X-mode only)</li>
<li>cv2x_rrc_config.uper: CV2X RRC preconfiguration file (CV2X-mode only)</li>
</ul>
<p><b>Running AutotalksCr2V2X</b></p>
<p>In the working directory set to the execution directory prepared above:</p>
<div class="fragment"><div class="line">$ /path/to/ysmart-binaries/ysmart-cr2-v2x</div></div><!-- fragment --><p><b>Running AutotalksCr2CV2X</b></p>
<p>In the working directory set to the execution directory prepared above:</p>
<div class="fragment"><div class="line">$ /path/to/ysmart-binaries/ysmart-cr2-cv2x</div></div><!-- fragment --><p><b>Running AutotalksCr2Gnss</b></p>
<p>In the working directory set to the execution directory prepared above:</p>
<div class="fragment"><div class="line">$ /path/to/ysmart-binaries/ysmart-cr2-gnss</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Tue Mar 14 2023 16:13:25 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
