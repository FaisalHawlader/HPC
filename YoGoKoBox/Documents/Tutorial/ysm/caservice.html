<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Cooperative Awareness Message Service (CaService)</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('caservice.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Cooperative Awareness Message Service (CaService) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Cooperative Awareness Messages (CAMs) are distributed within the ITS-G5 (802.11p) network and provide information of presence, positions as well as basic status of communicating ITS stations to neighbouring ITS stations that are located within a single hop distance.</p>
<p>All ITS stations shall be able to generate, send and receive CAMs, as long as they participate in V2X networks. By receiving CAMs, the ITS station is aware of other stations in its neighbourhood area as well as their positions, movement, basic attributes and basic sensor information. At receiver side, reasonable efforts can be taken to evaluate the relevance of the messages and the information. This allows ITS stations to get information about its situation and act accordingly.</p>
<p>A CAM is composed of one common ITS PDU header and multiple containers, which together constitute a CAM. The ITS PDU header is a common header that includes the information of the protocol version, the message type and the ITS-S ID of the originating ITS-S. For vehicle ITS-Ss a CAM shall comprise one basic container and one high frequency container, and may also include one low frequency container and one or more other special containers</p>
<p>All CAMs generated by a RSU ITS-S shall include a basic container and optionally more containers.</p>
<p>Currently supported standard version:</p><ul>
<li>ETSI EN 302 637-2 V1.3.2 (2014-11)</li>
<li>ETSI EN 302 637-2 V1.4.1 (2019-04)</li>
</ul>
<h1>Processing and I/O</h1>
<p>On emission, CAM messages are generated by the CaService using informations from the ITS Station. Then, they are sent to the netwotk. Messages are not directly generated by applications. Applications may modify the way CAM messages are sent by modifying station informations.</p>
<p>On reception, CAM messages are passed to the upper layer, that is applications and services subscribed for reception of CAM messages.</p>
<div class="image">
<img src="flow-caservice.png" alt="flow-caservice.png"/>
<div class="caption">
CaService</div></div>
<p> Note: The CaService supports the following formats for emission and reception: ASN1_UPER, JSON, XML, Human Readable</p>
<h2>Generation of CAM messages</h2>
<p>CAM content are generated based on the vdpservice content, configuration and the potiservice 's Position History cache.</p>
<p>Note that some of this message field are sometime raw copy of the input, or based on an internal processing of the input value.</p>
<p>The following table shows how fields of the CAM message are filled by the CaService.</p>
<table class="doxtable">
<tr>
<th>Container </th><th>Field name </th><th>Source </th><th>Key </th><th>Default value  </th></tr>
<tr>
<td>basicContainer </td><td>stationType </td><td>choirconf.xml config file </td><td>stationtype </td><td>9999 </td></tr>
<tr>
<td>basicContainer </td><td>latitude </td><td>VDP cache </td><td>lat </td><td>900000001 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>longitude </td><td>VDP cache </td><td>lon </td><td>1800000001 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>semiMinorConfidence </td><td>VDP cache </td><td>possemiminoraxiserror </td><td>4095 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>semiMajorConfidence </td><td>VDP cache </td><td>possemimajoraxiserror </td><td>40950 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>semiMajorOrientation </td><td>VDP cache </td><td>posmajoraxisdirection </td><td>3601 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>altitudeValue </td><td>VDP cache </td><td>alt </td><td>800001 (unavailable) </td></tr>
<tr>
<td>basicContainer </td><td>altitudeConfidence </td><td>VDP cache </td><td>altitudeerror </td><td>15 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>heading </td><td>VDP cache </td><td>heading </td><td>3601 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>headingconfidence </td><td>VDP cache </td><td>headingconfidence </td><td>127 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>speed </td><td>VDP cache </td><td>speed </td><td>16383 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>speedConfidence </td><td>VDP cache </td><td>speedConfidence </td><td>127 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>drivingDirection </td><td>VDP cache </td><td>gear </td><td>2 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>curvature </td><td>VDP cache </td><td>curvature </td><td>30001 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>curvatureconfidence </td><td>VDP cache </td><td>curvatureconfidence </td><td>7 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td></td><td>0 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>brakepedal </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>gaspedal </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>emergencybrake </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>collisionwarning </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>acc </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>cruisecontrol </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>accelerationControl </td><td>VDP cache </td><td>speedlimiter </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>yawrate </td><td>VDP cache </td><td>yawrate </td><td>32767 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>yawrateconfidence </td><td>VDP cache </td><td>yawrateconfidence </td><td>8 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>longitudinalaccelerationconfidence </td><td>VDP cache </td><td>longitudinalaccelerationconfidence </td><td>102 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>curvatureCalculationMode </td><td>VDP cache </td><td>curvaturecalculation </td><td>2 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>vehiclelength </td><td>VDP cache </td><td>vehiclelength </td><td>1023 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>vehiclelengthconfidence </td><td>VDP cache </td><td>vehiclelengthconfidence </td><td>4 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerHighFrequency </td><td>vehiclewidth </td><td>VDP cache </td><td>vehiclewidth </td><td>61 (unavailable) </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>lowbeamheadlight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>highbeamheadlight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>leftturnlight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>rightturnlight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>daytimelight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>reverselight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>foglight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>exteriorlights </td><td>VDP cache </td><td>parkinglight </td><td>false </td></tr>
<tr>
<td>basicVehicleContainerLowFrequency </td><td>vehiclerole </td><td>VDP cache </td><td>vehiclerole </td><td>0 </td></tr>
<tr>
<td>pathHistory </td><td>deltaLatitude </td><td> PathHistory cache </td><td> lat </td><td>- </td></tr>
<tr>
<td>pathHistory </td><td>deltaLongitude </td><td> PathHistory cache </td><td> lon </td><td>- </td></tr>
<tr>
<td>pathHistory </td><td>deltaAltitude </td><td> PathHistory cache </td><td> alt </td><td>- </td></tr>
<tr>
<td>pathHistory </td><td>deltaTime </td><td> PathHistory cache </td><td> itstime </td><td>- </td></tr>
</table>
<p>The special vehicle container contains information specific to the vehicle role of the originating vehicle ITS-S.</p>
<p>Once the CAM has been generated, it will be publish on the <em>outcam</em> message id and be submitted to the Transmission Processing.</p>
<h2>Emission of CAM messages</h2>
<p>The transmission processing will determine whether a received message on id <em>outcam</em> should be sent or not to the V2X network. The processing is based on the station profile and the service configuration.</p>
<ul>
<li>Timing : CAM generation and content will be dependent to the configuration of the facility and the station profile. For more information about the generation interval of CAM and his containers please refer to the configuration of the service (<em>40-caservice.xml</em>) and the configuration description below. For example the Low Frequency Container will not be always include in message to not overload the V2X network.</li>
<li>Security : If the security management is enabled, the service will check if the station are authorized to emit this kind of message.</li>
</ul>
<p>Once the transmission check succeed, message are sent over the <em>itssocket</em> and to the message id <em>owncam</em>. The transmission process will attach the Geonetworking Lifetime and Message type in metadata.</p>
<p>User are free to implement his own CAM generation service and submit his message to the message id <em>outcam</em> to send it over V2X network. The message will be effectiveness sent if it comply with the transmission check.</p>
<h2>Reception of CAM messages</h2>
<p>CAM are received from an <em>itssocket</em>, the only processing is the ASN.1 decoding which could failed if the received message is not encode with the current version implemented. Message are then sent to the <em>incam</em> message id with the following metadata attach if available from the network layer : </p><table class="doxtable">
<tr>
<th>Name </th><th>Description  </th></tr>
<tr>
<td>radiotimestamp </td><td>Receive time in microseconds in TAI microseconds since 2004-01-01T00:00:00Z (UTC) </td></tr>
<tr>
<td>radiopower</td><td>Average input power of frame in dBm </td></tr>
<tr>
<td>radiodatarate </td><td>Data rate </td></tr>
<tr>
<td>radiofrequency</td><td>Radio channel on which the frame was received </td></tr>
<tr>
<td>radiomacdest</td><td>Destination MAC address </td></tr>
<tr>
<td>radiomacsource</td><td>Source MAC address </td></tr>
<tr>
<td>radiopriority</td><td>MAC User Priority currently unsupported </td></tr>
</table>
<h1>Configuration and MIBs</h1>
<h2>List of MIB entries</h2>
<p>Details of MIB entries:</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>pubsub </td><td>incam </td><td>Message id on which messages from the V2X network will be sent if decoded has succeed. </td><td>0 </td></tr>
<tr>
<td>pubsub </td><td>outcam </td><td>Message id on which generated CAM message are sent by this facility or user's one to be submit to Timing and Security control </td><td>0 </td></tr>
<tr>
<td>pubsub </td><td>owncam </td><td>Message id on which message from the <em>outcam</em> message id are sent after Generation and Security control has been perform. If the control was succeed message are sent to the V2X network layer and on this message Id.</td><td>0 </td></tr>
<tr>
<td>pubsub </td><td>senderid </td><td>application id for the CAM Service </td><td>61 </td></tr>
<tr>
<td>cache </td><td>vdpcacheid </td><td>Object id for VDP input vield</td><td>0 </td></tr>
<tr>
<td>cache </td><td>incacheid </td><td></td><td>1 </td></tr>
<tr>
<td>cache </td><td>pathhistorycacheid </td><td></td><td>9 </td></tr>
<tr>
<td>cache </td><td>stationpropertiesid </td><td>Station properties cache id for security management</td><td>3 </td></tr>
<tr>
<td>ltev2x </td><td>enable </td><td>Whether the LTE-V2X media should be use for CAM emission </td><td>false </td></tr>
<tr>
<td>ltev2x </td><td>msgtype </td><td>The string that identifies the ITS message type for LTE-V2X emission </td><td>cam </td></tr>
<tr>
<td>ltev2x </td><td>maxdistance </td><td>The distance (meters) from which a CAM message can be emitted through LTE-V2X if no other CAM has been emitted since </td><td>250 </td></tr>
<tr>
<td>ltev2x </td><td>maxdelay </td><td>The delay (seconds) from which a CAM message can be emitted through LTE-V2X if no other CAM has been emitted since </td><td>120 </td></tr>
<tr>
<td>socket </td><td>cam </td><td>itssocket use to send and receive from the V2X network layer </td><td>gn+btp://cch:2001 </td></tr>
<tr>
<td>camparameters </td><td>messageid </td><td>The message id to use in CAM header</td><td>2 </td></tr>
<tr>
<td>camparameters </td><td>protocolversion </td><td>(deprecated) Version of the CAM </td><td>1 </td></tr>
<tr>
<td>camparameters </td><td>vehiclelengthconfind </td><td></td><td>0 </td></tr>
<tr>
<td>standard </td><td>reference </td><td>standard reference to use </td><td>ETSI_EN_302637-2 </td></tr>
<tr>
<td>standard </td><td>version </td><td>standard reference version to use </td><td>1.3.2 </td></tr>
<tr>
<td>recvcontrol </td><td>dropownmsgs </td><td>Whether the CaService should drop its own messages on reception </td><td>false </td></tr>
<tr>
<td>sendcontrol </td><td>consecutivecam </td><td>Maximum consecutive CAM messages</td><td>3 </td></tr>
<tr>
<td>sendcontrol </td><td>generationcontrol </td><td>Whether the CaService should control generation frequency of CAM messages</td><td>true </td></tr>
<tr>
<td>sendcontrol </td><td>genmaxinterval </td><td>Maximum generation interval of CAM messages (ms)</td><td>200 </td></tr>
<tr>
<td>sendcontrol </td><td>genmininterval </td><td>Minimum generation interval of CAM messages (ms)</td><td>100 </td></tr>
<tr>
<td>sendcontrol </td><td>genminintervaldcc </td><td>Minimum DCC generation interval of CAM messages (ms)</td><td>100 </td></tr>
<tr>
<td>sendcontrol </td><td>genminintervallf </td><td>Minimum interval for inclusion of the lowFrequencyContainer in sent CAM messages (ms)</td><td>500 </td></tr>
<tr>
<td>sendcontrol </td><td>lowfrequencycontrol </td><td>Whether the CaService should control inclusion of the lowFrequencyContainer on sent messages</td><td>true </td></tr>
<tr>
<td>sendcontrol </td><td>mitigationcontrol </td><td>Whether the CaService should apply CEN-DSRC mitigation on sent messages</td><td>true </td></tr>
<tr>
<td>sendcontrol </td><td>mitigationinterval </td><td>Minimum generation interval of CAM messages when CEN-DSRC mitigation is active (ms)</td><td>1000 </td></tr>
<tr>
<td>sendcontrol </td><td>trafficclass </td><td>Traffic class that represents Facility-layer requirements on packet transport (cf ETSI_EN_302636-4-1) </td><td>2 </td></tr>
<tr>
<td>securityparameters </td><td>aid </td><td>AID of CAM for sent and received messages</td><td>36 </td></tr>
<tr>
<td>securityparameters </td><td>securitycontrol </td><td>Whether the security service should control (lock) emission of CAM messages</td><td>false </td></tr>
<tr>
<td>securityparameters </td><td>signmessages </td><td>Whether sent CAM should be signed</td><td>false </td></tr>
<tr>
<td>lifetime </td><td>value </td><td>lifetime to be included in GN messages</td><td>40 </td></tr>
<tr>
<td>protectedzone </td><td>index </td><td>ProtectedZone for RSU container, included when stationType is RSU (15)</td><td>0 </td></tr>
<tr>
<td>zone0 </td><td>type </td><td>type of the station. 0 = cenDsrcTolling</td><td>0 </td></tr>
<tr>
<td>zone0 </td><td>latitude</td><td>latitude of the station (deg)</td><td>43.5512784 </td></tr>
<tr>
<td>zone0 </td><td>longitude</td><td>longitude of the station (deg) </td><td>10.3002593 </td></tr>
<tr>
<td>zone0 </td><td>zoneid</td><td>zoneid: ID of the zone</td><td>1 </td></tr>
<tr>
<td>zone0 </td><td>radius</td><td>radius of the zone - optional (m)</td><td>100 </td></tr>
<tr>
<td>zone0 </td><td>expiration</td><td>expiryTime (ITS time) of the zone optional (s)</td><td>417381883 </td></tr>
</table>
<h2>Sample configuration file</h2>
<p><em><b>config/40-caservice.xml</b></em></p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div><div class="line">&lt;<span class="keywordtype">configuration</span>&gt;</div><div class="line">    <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">        CaService</span></div><div class="line"><span class="comment">        Provides support for ETSI CAM messaging</span></div><div class="line"><span class="comment">    --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">service</span> <span class="keyword">start</span>=<span class="stringliteral">&quot;true&quot;</span> <span class="keyword">instance</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;<span class="keyword">CaService</span>&lt;/<span class="keywordtype">service</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">config</span>&gt;</div><div class="line">        <span class="comment">&lt;!-- Parameters for the pubsub mechanism (reasonable defaults) --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">pubsub</span> <span class="keyword">senderid</span>=<span class="stringliteral">&quot;61&quot;</span> <span class="keyword">outcam</span>=<span class="stringliteral">&quot;22&quot;</span> <span class="keyword">incam</span>=<span class="stringliteral">&quot;32&quot;</span> <span class="keyword">owncam</span>=<span class="stringliteral">&quot;42&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Parameters for the cache mechanism (reasonable defaults) --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">cache</span> <span class="keyword">inCacheId</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">VDPCacheId</span>=<span class="stringliteral">&quot;0&quot;</span> <span class="keyword">stationPropertiesId</span>=<span class="stringliteral">&quot;3&quot;</span> <span class="keyword">pathhistorycacheid</span>=<span class="stringliteral">&quot;9&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Parameters for CAM emission on LTE-V2X media</span></div><div class="line"><span class="comment">            * enable : Whether the LTE-V2X media should be use for CAM emission.</span></div><div class="line"><span class="comment">            * msgtype : The string that identifies the ITS message type for LTE-V2X emission. This string can be used</span></div><div class="line"><span class="comment">                for example in the MQTT topic if MQTT protocol is used for the LTE-V2X emission.</span></div><div class="line"><span class="comment">            * maxdistance : The distance (meters) between the current position of the ITS Station and the</span></div><div class="line"><span class="comment">                position included in the CAM previously transmitted to the WebSocket Server that</span></div><div class="line"><span class="comment">                once exceeds trigger a CAM emission through this module</span></div><div class="line"><span class="comment">            * maxdelay : The delay (seconds) between the timestamp of the current CAM emitted by the ITS Station and the</span></div><div class="line"><span class="comment">                timestamp of the CAM previously transmitted through LTE-V2X media that, once exceeds, trigger a CAM</span></div><div class="line"><span class="comment">                emission through LTE-V2X media</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">ltev2x</span> <span class="keyword">enable</span>=<span class="stringliteral">&quot;false&quot;</span> <span class="keyword">msgtype</span>=<span class="stringliteral">&quot;cam&quot;</span> <span class="keyword">maxdistance</span>=<span class="stringliteral">&quot;250&quot;</span> <span class="keyword">maxdelay</span>=<span class="stringliteral">&quot;120&quot;</span>/&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Parameters for the itssocket mechanism (reasonable defaults) --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &lt;socket receiver=&quot;gn+btp://cch:2001&quot; sender=&quot;gn+btp://cch:2001&quot; /&gt; --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &lt;socket receiver=&quot;gn+btp://cch:2001&quot; sender=&quot;ip6+udp://[::1]:1234?reconnect=1&quot; /&gt; --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- &lt;socket url=&quot;ip6+udp://[::1]:1234?reconnect=1&quot; /&gt; --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">socket</span> <span class="keyword">cam</span>=<span class="stringliteral">&quot;gn+btp://cch:2001&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Specific configuration for cam protocol (reasonable defaults) --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">camparameters</span> <span class="keyword">messageid</span>=<span class="stringliteral">&quot;2&quot;</span> <span class="keyword">vehiclelengthconfind</span>=<span class="stringliteral">&quot;0&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Standard reference and version to use --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">standard</span> <span class="keyword">reference</span>=<span class="stringliteral">&quot;ETSI_EN_302637-2&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.3.2&quot;</span> /&gt;</div><div class="line">        <span class="comment">&lt;!-- &lt;standard reference=&quot;ETSI_EN_302637-2&quot; version=&quot;1.4.1&quot; /&gt; --&gt;</span></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Reception control parameters</span></div><div class="line"><span class="comment">            dropownmsgs: Whether the CaService should drop its own messages</span></div><div class="line"><span class="comment">                on reception</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">recvcontrol</span> <span class="keyword">dropownmsgs</span>=<span class="stringliteral">&quot;false&quot;</span>/&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Generation control parameters</span></div><div class="line"><span class="comment">            generationcontrol: Whether the CaService should control</span></div><div class="line"><span class="comment">                generation frequency of CAM messages</span></div><div class="line"><span class="comment">            genmaxinterval: Maximum generation interval of CAM messages (ms)</span></div><div class="line"><span class="comment">            genmininterval: Minimum generation interval of CAM messages (ms)</span></div><div class="line"><span class="comment">            genminintervaldcc: Minimum DCC generation interval of CAM</span></div><div class="line"><span class="comment">                messages (ms)</span></div><div class="line"><span class="comment">            consecutivecam: Maximum consecutive CAM messages</span></div><div class="line"><span class="comment">            lowfrequencycontrol: Whether the CaService should control</span></div><div class="line"><span class="comment">                inclusion of the lowFrequencyContainer on sent messages</span></div><div class="line"><span class="comment">            genminintervallf: Minimum interval for inclusion of the</span></div><div class="line"><span class="comment">                lowFrequencyContainer in sent CAM messages (ms)</span></div><div class="line"><span class="comment">            mitigationcontrol: Whether the CaService should apply CEN-DSRC</span></div><div class="line"><span class="comment">                mitigation on sent messages</span></div><div class="line"><span class="comment">            mitigationinterval: Minimum generation interval of CAM messages</span></div><div class="line"><span class="comment">                when CEN-DSRC mitigation is active (ms)</span></div><div class="line"><span class="comment">            trafficclass: Traffic class that represents Facility-layer</span></div><div class="line"><span class="comment">               requirements on packet transport</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">sendcontrol</span> <span class="keyword">generationcontrol</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                     <span class="keyword">genmaxinterval</span>=<span class="stringliteral">&quot;1000&quot;</span></div><div class="line">                     <span class="keyword">genmininterval</span>=<span class="stringliteral">&quot;100&quot;</span></div><div class="line">                     <span class="keyword">genminintervaldcc</span>=<span class="stringliteral">&quot;100&quot;</span></div><div class="line">                     <span class="keyword">consecutivecam</span>=<span class="stringliteral">&quot;3&quot;</span></div><div class="line">                     <span class="keyword">lowfrequencycontrol</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                     <span class="keyword">genminintervallf</span>=<span class="stringliteral">&quot;500&quot;</span></div><div class="line">                     <span class="keyword">mitigationcontrol</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                     <span class="keyword">mitigationinterval</span>=<span class="stringliteral">&quot;1000&quot;</span></div><div class="line">                     <span class="keyword">trafficclass</span>=<span class="stringliteral">&quot;2&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Security control parameters</span></div><div class="line"><span class="comment">            signmessages: Whether sent CAM messages should be signed</span></div><div class="line"><span class="comment">            securitycontrol: Whether the security service should control</span></div><div class="line"><span class="comment">                (lock) emission of CAM messages</span></div><div class="line"><span class="comment">            aid: AID of CAM messages for sent and received messages</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">securityparameters</span> <span class="keyword">signmessages</span>=<span class="stringliteral">&quot;false&quot;</span></div><div class="line">                            <span class="keyword">securitycontrol</span>=<span class="stringliteral">&quot;false&quot;</span></div><div class="line">                            <span class="keyword">aid</span>=<span class="stringliteral">&quot;36&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- GN Lifetime parameter</span></div><div class="line"><span class="comment">            value: lifetime to be included in GN messages</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            Lifetime is constructed as follow :</span></div><div class="line"><span class="comment">            XXXXXXYY where XXXXXX is the multiplier</span></div><div class="line"><span class="comment">            and YY is the base.</span></div><div class="line"><span class="comment">            For example, 19 = 000100 11</span></div><div class="line"><span class="comment">            It means 4 * 100s. The two last bits can</span></div><div class="line"><span class="comment">            be :</span></div><div class="line"><span class="comment">                00 : 50ms</span></div><div class="line"><span class="comment">                01 : 1s</span></div><div class="line"><span class="comment">                10 : 10s</span></div><div class="line"><span class="comment">                11 : 100s</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            For CAM messages the value shall be</span></div><div class="line"><span class="comment">            less than a second.</span></div><div class="line"><span class="comment">         --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">lifetime</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;40&quot;</span>/&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- ProtectedZone for RSU container, included when stationType is RSU (15) --&gt;</span></div><div class="line">        <span class="comment">&lt;!--    number of protected zones --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">protectedzone</span> <span class="keyword">index</span>=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line">        <span class="comment">&lt;!--    configuration of zone</span></div><div class="line"><span class="comment">                type: type of the station. 0 = cenDsrcTolling</span></div><div class="line"><span class="comment">                latitude: latitude of the station (deg)</span></div><div class="line"><span class="comment">                longitude: longitude of the station (deg)</span></div><div class="line"><span class="comment">                zoneid: ID of the zone</span></div><div class="line"><span class="comment">                radius: radius of the zone - optional (m)</span></div><div class="line"><span class="comment">                expiration: expiryTime (ITS time) of the zone -</span></div><div class="line"><span class="comment">                    optional (s)</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">        &lt;zone0 type=&quot;0&quot;</span></div><div class="line"><span class="comment">               latitude=&quot;43.5512784&quot;</span></div><div class="line"><span class="comment">               longitude=&quot;10.3002593&quot;</span></div><div class="line"><span class="comment">               zoneid=&quot;1&quot;</span></div><div class="line"><span class="comment">               radius=&quot;100&quot;</span></div><div class="line"><span class="comment">               expiration=&quot;417381883&quot; /&gt;</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">    &lt;/<span class="keywordtype">config</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">configuration</span>&gt;</div></div><!-- fragment --><h1>Usage examples</h1>
<p><b>Retrieve sent CAM messages (JSON format)</b></p>
<div class="fragment"><div class="line">$ mwpubsub -s -m 42 -a 1025 -j 7</div></div><!-- fragment --><p>Output: </p><div class="fragment"><div class="line">{&quot;header&quot;:{&quot;messageID&quot;:2,&quot;protocolVersion&quot;:1,&quot;stationID&quot;:9999},&quot;cam&quot;:{&quot;generationDeltaTime&quot;:28396,&quot;camParameters&quot;:{&quot;basicContainer&quot;:{&quot;referencePosition&quot;:{&quot;altitude&quot;:{&quot;altitudeValue&quot;:0,&quot;altitudeConfidence&quot;:&quot;unavailable&quot;},&quot;positionConfidenceEllipse&quot;:{&quot;semiMajorOrientation&quot;:3601,&quot;semiMinorConfidence&quot;:4095,&quot;semiMajorConfidence&quot;:4095},&quot;latitude&quot;:481350568,&quot;longitude&quot;:-16221928},&quot;stationType&quot;:0},&quot;highFrequencyContainer&quot;:{&quot;basicVehicleContainerHighFrequency&quot;:{&quot;vehicleLength&quot;:{&quot;vehicleLengthValue&quot;:1023,&quot;vehicleLengthConfidenceIndication&quot;:&quot;unavailable&quot;},&quot;accelerationControl&quot;:&quot;00&quot;,&quot;vehicleWidth&quot;:61,&quot;yawRate&quot;:{&quot;yawRateValue&quot;:32767,&quot;yawRateConfidence&quot;:&quot;unavailable&quot;},&quot;heading&quot;:{&quot;headingValue&quot;:3601,&quot;headingConfidence&quot;:127},&quot;curvatureCalculationMode&quot;:&quot;unavailable&quot;,&quot;longitudinalAcceleration&quot;:{&quot;longitudinalAccelerationValue&quot;:161,&quot;longitudinalAccelerationConfidence&quot;:102},&quot;driveDirection&quot;:&quot;unavailable&quot;,&quot;speed&quot;:{&quot;speedValue&quot;:0,&quot;speedConfidence&quot;:127},&quot;curvature&quot;:{&quot;curvatureConfidence&quot;:&quot;unavailable&quot;,&quot;curvatureValue&quot;:30001}}},&quot;lowFrequencyContainer&quot;:{&quot;basicVehicleContainerLowFrequency&quot;:{&quot;vehicleRole&quot;:&quot;default&quot;,&quot;exteriorLights&quot;:&quot;00&quot;,&quot;pathHistory&quot;:[]}}}}}</div><div class="line">{&quot;header&quot;:{&quot;messageID&quot;:2,&quot;protocolVersion&quot;:1,&quot;stationID&quot;:9999},&quot;cam&quot;:{&quot;generationDeltaTime&quot;:28497,&quot;camParameters&quot;:{&quot;basicContainer&quot;:{&quot;referencePosition&quot;:{&quot;altitude&quot;:{&quot;altitudeValue&quot;:0,&quot;altitudeConfidence&quot;:&quot;unavailable&quot;},&quot;positionConfidenceEllipse&quot;:{&quot;semiMajorOrientation&quot;:3601,&quot;semiMinorConfidence&quot;:4095,&quot;semiMajorConfidence&quot;:4095},&quot;latitude&quot;:481350568,&quot;longitude&quot;:-16221928},&quot;stationType&quot;:0},&quot;highFrequencyContainer&quot;:{&quot;basicVehicleContainerHighFrequency&quot;:{&quot;vehicleLength&quot;:{&quot;vehicleLengthValue&quot;:1023,&quot;vehicleLengthConfidenceIndication&quot;:&quot;unavailable&quot;},&quot;accelerationControl&quot;:&quot;00&quot;,&quot;vehicleWidth&quot;:61,&quot;yawRate&quot;:{&quot;yawRateValue&quot;:32767,&quot;yawRateConfidence&quot;:&quot;unavailable&quot;},&quot;heading&quot;:{&quot;headingValue&quot;:3601,&quot;headingConfidence&quot;:127},&quot;curvatureCalculationMode&quot;:&quot;unavailable&quot;,&quot;longitudinalAcceleration&quot;:{&quot;longitudinalAccelerationValue&quot;:161,&quot;longitudinalAccelerationConfidence&quot;:102},&quot;driveDirection&quot;:&quot;unavailable&quot;,&quot;speed&quot;:{&quot;speedValue&quot;:0,&quot;speedConfidence&quot;:127},&quot;curvature&quot;:{&quot;curvatureConfidence&quot;:&quot;unavailable&quot;,&quot;curvatureValue&quot;:30001}}}}}}</div><div class="line">{&quot;header&quot;:{&quot;messageID&quot;:2,&quot;protocolVersion&quot;:1,&quot;stationID&quot;:9999},&quot;cam&quot;:{&quot;generationDeltaTime&quot;:28598,&quot;camParameters&quot;:{&quot;basicContainer&quot;:{&quot;referencePosition&quot;:{&quot;altitude&quot;:{&quot;altitudeValue&quot;:0,&quot;altitudeConfidence&quot;:&quot;unavailable&quot;},&quot;positionConfidenceEllipse&quot;:{&quot;semiMajorOrientation&quot;:3601,&quot;semiMinorConfidence&quot;:4095,&quot;semiMajorConfidence&quot;:4095},&quot;latitude&quot;:481350568,&quot;longitude&quot;:-16221928},&quot;stationType&quot;:0},&quot;highFrequencyContainer&quot;:{&quot;basicVehicleContainerHighFrequency&quot;:{&quot;vehicleLength&quot;:{&quot;vehicleLengthValue&quot;:1023,&quot;vehicleLengthConfidenceIndication&quot;:&quot;unavailable&quot;},&quot;accelerationControl&quot;:&quot;00&quot;,&quot;vehicleWidth&quot;:61,&quot;yawRate&quot;:{&quot;yawRateValue&quot;:32767,&quot;yawRateConfidence&quot;:&quot;unavailable&quot;},&quot;heading&quot;:{&quot;headingValue&quot;:3601,&quot;headingConfidence&quot;:127},&quot;curvatureCalculationMode&quot;:&quot;unavailable&quot;,&quot;longitudinalAcceleration&quot;:{&quot;longitudinalAccelerationValue&quot;:161,&quot;longitudinalAccelerationConfidence&quot;:102},&quot;driveDirection&quot;:&quot;unavailable&quot;,&quot;speed&quot;:{&quot;speedValue&quot;:0,&quot;speedConfidence&quot;:127},&quot;curvature&quot;:{&quot;curvatureConfidence&quot;:&quot;unavailable&quot;,&quot;curvatureValue&quot;:30001}}}}}}</div></div><!-- fragment --><p><em><b>Note:</b></em> The <code>-j 7</code> flag (format JSON) in the command is optional.</p>
<p><b>Retrieve sent CAM messages (Human-readible format)</b></p>
<div class="fragment"><div class="line">$ mwpubsub -s -m 42 -a 1025 -j 127</div></div><!-- fragment --><p>Output: </p><div class="fragment"><div class="line">SEQUENCE</div><div class="line"> +-&gt; header: SEQUENCE</div><div class="line"> |   +-&gt; protocolVersion: 1</div><div class="line"> |   +-&gt; messageID: 2</div><div class="line"> |   +-&gt; stationID: 9999</div><div class="line"> +-&gt; cam: SEQUENCE</div><div class="line"> |   +-&gt; generationDeltaTime: 43556</div><div class="line"> |   +-&gt; camParameters: SEQUENCE</div><div class="line"> |   |   +-&gt; basicContainer: SEQUENCE</div><div class="line"> |   |   |   +-&gt; stationType: 0</div><div class="line"> |   |   |   +-&gt; referencePosition: SEQUENCE</div><div class="line"> |   |   |   |   +-&gt; latitude: 481350568</div><div class="line"> |   |   |   |   +-&gt; longitude: -16221928</div><div class="line"> |   |   |   |   +-&gt; positionConfidenceEllipse: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; semiMajorConfidence: 4095</div><div class="line"> |   |   |   |   |   +-&gt; semiMinorConfidence: 4095</div><div class="line"> |   |   |   |   |   +-&gt; semiMajorOrientation: 3601</div><div class="line"> |   |   |   |   +-&gt; altitude: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; altitudeValue: 0</div><div class="line"> |   |   |   |   |   +-&gt; altitudeConfidence: 15</div><div class="line"> |   |   +-&gt; highFrequencyContainer: CHOICE</div><div class="line"> |   |   |   +-&gt; basicVehicleContainerHighFrequency: SEQUENCE</div><div class="line"> |   |   |   |   +-&gt; heading: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; headingValue: 3601</div><div class="line"> |   |   |   |   |   +-&gt; headingConfidence: 127</div><div class="line"> |   |   |   |   +-&gt; speed: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; speedValue: 0</div><div class="line"> |   |   |   |   |   +-&gt; speedConfidence: 127</div><div class="line"> |   |   |   |   +-&gt; driveDirection: 2</div><div class="line"> |   |   |   |   +-&gt; vehicleLength: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; vehicleLengthValue: 1023</div><div class="line"> |   |   |   |   |   +-&gt; vehicleLengthConfidenceIndication: 4</div><div class="line"> |   |   |   |   +-&gt; vehicleWidth: 61</div><div class="line"> |   |   |   |   +-&gt; longitudinalAcceleration: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; longitudinalAccelerationValue: 161</div><div class="line"> |   |   |   |   |   +-&gt; longitudinalAccelerationConfidence: 102</div><div class="line"> |   |   |   |   +-&gt; curvature: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; curvatureValue: 30001</div><div class="line"> |   |   |   |   |   +-&gt; curvatureConfidence: 7</div><div class="line"> |   |   |   |   +-&gt; curvatureCalculationMode: 2</div><div class="line"> |   |   |   |   +-&gt; yawRate: SEQUENCE</div><div class="line"> |   |   |   |   |   +-&gt; yawRateValue: 32767</div><div class="line"> |   |   |   |   |   +-&gt; yawRateConfidence: 8</div><div class="line"> |   |   |   |   +-&gt; accelerationControl: 0</div><div class="line"> |   |   |   |   +-&gt; lanePosition: (not encoded)</div><div class="line"> |   |   |   |   +-&gt; steeringWheelAngle: (not encoded)</div><div class="line"> |   |   |   |   +-&gt; lateralAcceleration: (not encoded)</div><div class="line"> |   |   |   |   +-&gt; verticalAcceleration: (not encoded)</div><div class="line"> |   |   |   |   +-&gt; performanceClass: (not encoded)</div><div class="line"> |   |   |   |   +-&gt; cenDsrcTollingZone: (not encoded)</div><div class="line"> |   |   +-&gt; lowFrequencyContainer: (not encoded)</div><div class="line"> |   |   +-&gt; specialVehicleContainer: (not encoded)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Tue Mar 14 2023 16:13:24 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
