<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Basic Safety Message Service (BsService)</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('bsservice.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Basic Safety Message Service (BsService) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Basic Safety Messages (BSMs) are distributed within the WAVE (802.11p) network and provide information of presence, positions as well as basic status of communicating ITS stations to neighbouring ITS stations.</p>
<p>All ITS stations shall be able to generate, send and receive BSMs, as long as they participate in V2X networks. By receiving BSMs, the ITS station is aware of other stations in its neighbourhood area as well as their positions and movement. At receiver side, reasonable efforts can be taken to evaluate the relevance of the messages and the information. This allows ITS stations to get information about its situation and act accordingly.</p>
<p>Currently supported standard version:</p><ul>
<li>SAE J2735 2016</li>
</ul>
<h1>Processing and I/O</h1>
<p>BsService only generates BSMs. All generated BSMs are then sent to the FrameService which manage reception and emission for all WAVE messages.</p>
<div class="dotgraph">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"></map>
</div>
<ul>
<li>(1) Cache VDP</li>
<li>(2) Cache VDP</li>
<li>(3) pubsub outbsm</li>
</ul>
<p>Note: The BsService supports the following formats for emission and reception: ASN1_UPER, JSON, XML, Human Readable</p>
<h2>Generation of BSM messages</h2>
<p>BSM content are generated based on the vdpservice content, configuration.</p>
<p>The following table shows how fields of the BSM message are filled by the BsService.</p>
<table class="doxtable">
<tr>
<th>Container </th><th>Field name </th><th>Source </th><th>Key </th><th>Default value  </th></tr>
<tr>
<td>coreData </td><td>lat </td><td>VDP cache </td><td>lat </td><td>900000001 </td></tr>
<tr>
<td>coreData </td><td>lon </td><td>VDP cache </td><td>lon </td><td>1800000001 </td></tr>
<tr>
<td>coreData </td><td>elev </td><td>VDP cache </td><td>alt </td><td>-4096 </td></tr>
<tr>
<td>coreData </td><td>heading </td><td>VDP cache </td><td>heading </td><td>28800 </td></tr>
<tr>
<td>coreData </td><td>angle </td><td>VDP cache </td><td>steering </td><td>127 </td></tr>
<tr>
<td>coreData </td><td>speed </td><td>VDP cache </td><td>speed </td><td>8191 </td></tr>
<tr>
<td>coreData </td><td>size.length </td><td>VDP cache </td><td>vehiclelength </td><td>0 </td></tr>
<tr>
<td>coreData </td><td>size.width </td><td>VDP cache </td><td>vehiclewidth </td><td>0 </td></tr>
<tr>
<td>coreData </td><td>secMark </td><td>Pvt </td><td>currentUtcTimestamp </td></tr>
<tr>
<td>coreData </td><td>transmission </td><td></td><td></td><td>7 (unavailable) </td></tr>
<tr>
<td>positionalAccuracy </td><td>semiMajor </td><td>VDP cache </td><td>possemimajoraxiserror </td><td>255 </td></tr>
<tr>
<td>positionalAccuracy </td><td>semiMinor </td><td>VDP cache </td><td>possemiminoraxiserror </td><td>255 </td></tr>
<tr>
<td>positionalAccuracy </td><td>orientation </td><td>VDP cache </td><td>posmajoraxisdirection </td><td>65535 </td></tr>
<tr>
<td>accelerationSet4Way </td><td>lat </td><td></td><td></td><td>2001 </td></tr>
<tr>
<td>accelerationSet4Way </td><td>lon </td><td></td><td></td><td>2001 </td></tr>
<tr>
<td>accelerationSet4Way </td><td>vert </td><td></td><td></td><td>-127 </td></tr>
<tr>
<td>accelerationSet4Way </td><td>yaw </td><td>VDP cache </td><td>yawrate </td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>wheelBrakes </td><td></td><td></td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>traction </td><td></td><td></td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>abs </td><td></td><td></td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>scs </td><td></td><td></td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>brakeBoost </td><td></td><td></td><td>0 </td></tr>
<tr>
<td>brakeSystemStatus </td><td>auxBrakes </td><td></td><td></td><td>0 </td></tr>
</table>
<p>Once the BSM has been generated, it is published on the <em>outbsm</em> message id.</p>
<h1>Configuration and MIBs</h1>
<h2>List of MIB entries</h2>
<p>Details of MIB entries:</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>pubsub </td><td>outbsm </td><td>Message id on which generated BSM message are sent by this facility </td><td>131 </td></tr>
<tr>
<td>cache </td><td>vdpcacheid </td><td>Object id for VDP input vield</td><td>0 </td></tr>
<tr>
<td>standard </td><td>reference </td><td>standard reference to use </td><td>SAE_J2735 </td></tr>
<tr>
<td>standard </td><td>version </td><td>standard reference version to use </td><td>2016 </td></tr>
</table>
<h2>Sample configuration file</h2>
<p><em><b>config/40-bsservice.xml</b></em></p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div><div class="line">&lt;<span class="keywordtype">configuration</span>&gt;</div><div class="line">    <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">        BsService</span></div><div class="line"><span class="comment">        Provides support for IEEE BSM messaging</span></div><div class="line"><span class="comment">    --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">service</span> <span class="keyword">start</span>=<span class="stringliteral">&quot;false&quot;</span> <span class="keyword">instance</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;<span class="keyword">BsService</span>&lt;/<span class="keywordtype">service</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">config</span>&gt;</div><div class="line">        <span class="comment">&lt;!-- Parameters for the pubsub mechanism (reasonable defaults) --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">pubsub</span> <span class="keyword">outbsm</span>=<span class="stringliteral">&quot;131&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Parameters for the cache mechanism (reasonable defaults) --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">cache</span> <span class="keyword">vdpcacheid</span>=<span class="stringliteral">&quot;0&quot;</span>/&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Standard reference and version to use --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">standard</span> <span class="keyword">reference</span>=<span class="stringliteral">&quot;SAE_J2735&quot;</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;2016&quot;</span>/&gt;</div><div class="line"></div><div class="line">    &lt;/<span class="keywordtype">config</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">configuration</span>&gt;</div></div><!-- fragment --><h1>Usage examples</h1>
<p><b>Retrieve generated BSM messages (JSON format)</b></p>
<div class="fragment"><div class="line">$ mwpubsub -s -m 131 -a 1025 -j 7</div></div><!-- fragment --><p>Output: </p><div class="fragment"><div class="line">{&quot;coreData&quot;:{&quot;secMark&quot;:31455,&quot;heading&quot;:15136,&quot;brakes&quot;:{&quot;scs&quot;:&quot;unavailable&quot;,&quot;wheelBrakes&quot;:&quot;80&quot;,&quot;abs&quot;:&quot;unavailable&quot;,&quot;traction&quot;:&quot;unavailable&quot;,&quot;brakeBoost&quot;:&quot;unavailable&quot;,&quot;auxBrakes&quot;:&quot;unavailable&quot;},&quot;accuracy&quot;:{&quot;semiMinor&quot;:0,&quot;orientation&quot;:0,&quot;semiMajor&quot;:0},&quot;msgCnt&quot;:0,&quot;long&quot;:-15190592,&quot;speed&quot;:70,&quot;transmission&quot;:&quot;unavailable&quot;,&quot;size&quot;:{&quot;width&quot;:0,&quot;length&quot;:0},&quot;accelSet&quot;:{&quot;vert&quot;:-127,&quot;long&quot;:2001,&quot;lat&quot;:2001,&quot;yaw&quot;:0},&quot;elev&quot;:1820,&quot;angle&quot;:127,&quot;id&quot;:&quot;00002709&quot;,&quot;lat&quot;:481289784}}</div><div class="line">{&quot;coreData&quot;:{&quot;secMark&quot;:31507,&quot;heading&quot;:15136,&quot;brakes&quot;:{&quot;scs&quot;:&quot;unavailable&quot;,&quot;wheelBrakes&quot;:&quot;80&quot;,&quot;abs&quot;:&quot;unavailable&quot;,&quot;traction&quot;:&quot;unavailable&quot;,&quot;brakeBoost&quot;:&quot;unavailable&quot;,&quot;auxBrakes&quot;:&quot;unavailable&quot;},&quot;accuracy&quot;:{&quot;semiMinor&quot;:0,&quot;orientation&quot;:0,&quot;semiMajor&quot;:0},&quot;msgCnt&quot;:0,&quot;long&quot;:-15190592,&quot;speed&quot;:70,&quot;transmission&quot;:&quot;unavailable&quot;,&quot;size&quot;:{&quot;width&quot;:0,&quot;length&quot;:0},&quot;accelSet&quot;:{&quot;vert&quot;:-127,&quot;long&quot;:2001,&quot;lat&quot;:2001,&quot;yaw&quot;:0},&quot;elev&quot;:1820,&quot;angle&quot;:127,&quot;id&quot;:&quot;00002709&quot;,&quot;lat&quot;:481289784}}</div></div><!-- fragment --><div class="fragment"><div class="line">$ mwpubsub -s -m 131 -a 1025 -j 127</div></div><!-- fragment --><p>Output: </p><div class="fragment"><div class="line">SEQUENCE</div><div class="line"> +-&gt; coreData: SEQUENCE</div><div class="line"> |     +-&gt; msgCnt: 0</div><div class="line"> |     +-&gt; id: 00002709</div><div class="line"> |     +-&gt; secMark: 56445</div><div class="line"> |     +-&gt; lat: 481289784</div><div class="line"> |     +-&gt; lon: -15190592</div><div class="line"> |     +-&gt; elev: 1820</div><div class="line"> |     +-&gt; accuracy: SEQUENCE</div><div class="line"> |     |   +-&gt; semiMajor: 0</div><div class="line"> |     |   +-&gt; semiMinor: 0</div><div class="line"> |     |   +-&gt; orientation: 0</div><div class="line"> |     +-&gt; transmission: 7</div><div class="line"> |     +-&gt; speed: 70</div><div class="line"> |     +-&gt; heading: 15136</div><div class="line"> |     +-&gt; angle: 127</div><div class="line"> |     +-&gt; accelSet: SEQUENCE</div><div class="line"> |     |   +-&gt; lon: 2001</div><div class="line"> |     |   +-&gt; lat: 2001</div><div class="line"> |     |   +-&gt; vert: -127</div><div class="line"> |     |   +-&gt; yaw: 0</div><div class="line"> |     +-&gt; brakes: SEQUENCE</div><div class="line"> |     |   +-&gt; wheelBrakes: 10</div><div class="line"> |     |   +-&gt; traction: 0</div><div class="line"> |     |   +-&gt; abs: 0</div><div class="line"> |     |   +-&gt; scs: 0</div><div class="line"> |     |   +-&gt; brakeBoost: 0</div><div class="line"> |     |   +-&gt; auxBrakes: 0</div><div class="line"> |     +-&gt; size: SEQUENCE</div><div class="line"> |     |   +-&gt; width: 0</div><div class="line"> |     |   +-&gt; length: 0</div><div class="line"> +-&gt; partII: (not encoded)</div><div class="line"> +-&gt; regional: (not encoded)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Tue Mar 14 2023 16:13:25 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
