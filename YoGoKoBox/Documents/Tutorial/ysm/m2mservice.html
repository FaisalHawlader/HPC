<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Machine To Machine Service (M2MService)</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('m2mservice.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Machine To Machine Service (M2MService) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The M2MService is a Transport service in charge of sending and receiving packets from a device to another, via a Message Broker, using IoT communication protocols like MQTT or AMQP.</p>
<p>The M2MService does not implement these protocols itself but creates clients that will be able to set up a communication with a remote Message Broker.</p>
<p>In most setups, ITS messaging facilities (CaService, DenService, SpatService, IviService) use this service for sending packets in a Cellular or Hybrid Communication Mode through MQTT (over TCP). The AMQP protocol is mostly used when the ITS stack act as a link between C-ITS and OBUs or other C-ITS. In this case, ITS messaging facilities are not used anymore and replaced by other services to exchange ITS messages (OBUConnector, CITSConnector...)</p>
<h1>Processing and I/O</h1>
<p>The M2MService provides protocol handlers for MQTT and AMQP sockets:</p><ul>
<li>The MQTT protocol is implemented using the Eclipse Paho API that is used to create an MQTT client and communicate with a remote MQTT Message Broker. Packets are sent and received either through the eth interface or the LTE interface.</li>
<li>The AMQP protocol is implemented using the rabbitMQ API. As for MQTT this API is used to create an AMQP client and communicate with a remote AMQP Message Broker. Packets are sent and received either through the eth interfrace or the LTE interface.</li>
</ul>
<h2>MQTT ITS Sockets</h2>
<p>The MQTT protocol handler creates an instance of an MQTT client from the information set in the corresponding configuration file (10-m2mservice.xml) to communicate with a remote MQTT Message Broker.</p>
<p>For emission, packets are published to the remote Broker on a specific topic. Metadata entries are associated with the packets to pass information that are used to construct the topic on which the packet is published (a GPS position, the type of the message, the format and a unique identifier associated with this message). This information is passed using Metadata from the Facility to the the socket.</p>
<p>For reception, the MQTT client subscribes to a given topic. As for emission, information is passed using Metadata from the socket to the Facility.</p>
<p>Note that receiver sockets can include wildcards while the sender sockets can not. It is highly recommended to use the "receiver" and "sender" attributes when declaring sockets in ITS messaging facilities instead of declaring one URL for both receivers and senders. When enabled, the mqtt protocol handler registers the following socket protocols:</p>
<table class="doxtable">
<tr>
<th>Scheme </th><th>Accepted notations </th><th>Description  </th></tr>
<tr>
<td>mqtt </td><td>mqtt://&lt;host&gt;:&lt;port&gt;/&lt;topic&gt; <br />
 mqtt://&lt;host&gt;:&lt;port&gt;?ignorenwerror=1/&lt;topic&gt; <br />
 mqtt://&lt;alias&gt;/&lt;topic&gt; <br />
 mqtt://&lt;alias&gt;?ignorenwerror=1/&lt;topic&gt; </td><td>Receive and send packets through MQTT protocol without TLS/SSL </td></tr>
<tr>
<td>mqtts </td><td>mqtts://&lt;alias&gt;/&lt;topic&gt; <br />
 mqtts://&lt;alias&gt;?ignorenwerror=1/&lt;topic&gt; </td><td>Receive and send packets through MQTT protocol with TLS/SSL </td></tr>
<tr>
<td>mqtt+quad </td><td>mqtt+quad://&lt;host&gt;:&lt;port&gt;/&lt;topic_prefix&gt; <br />
 mqtt+quad://&lt;host&gt;:&lt;port&gt;?ignorenwerror=1/&lt;topic_prefix&gt; <br />
 mqtt+quad://&lt;alias&gt;/&lt;topic_prefix&gt; <br />
 mqtt+quad://&lt;alias&gt;?ignorenwerror=1/&lt;topic_prefix&gt; </td><td>Receive and send packets through MQTT without TLS/SSL using the QuadTreeMode. This means the topic will be concatenation of topic_prefix and generated string* </td></tr>
<tr>
<td>mqtts+quad </td><td>mqtts+quad://&lt;alias&gt;/&lt;topic_prefix&gt; <br />
 mqtts+quad://&lt;alias&gt;?ignorenwerror=1/&lt;topic_prefix&gt; </td><td>Receive and send packets through MQTT with TLS/SSL using the quadtreeMode. This means the topic will be the concatenation of topic_prefix and a generated string* </td></tr>
</table>
<p>For the mqtt/mqtts schemes here is the meaning of the URL attributes:</p><ul>
<li>&lt;host&gt; : The IP address/Hostname of the broker to connect to.</li>
<li>&lt;port&gt; : The TCP port to connect to.</li>
<li>&lt;alias&gt; : A server alias. If it matches an alias set in the configuration file of this service (10-m2mservice.xml) it will use the corresponding information of that server (cf. List of MIB entries).</li>
<li>&lt;topic&gt; : The topic of subscription/publication to use for the socket. Only receiver sockets can include wildcards.</li>
<li>ignorenwerror=1 : When it is present in the URL the socket will not throw an error if the Broker is unreachable and will keep trying to communicate with the Broker at each operation (subscription/publication)</li>
</ul>
<p>For the mqtt+quad/mqtts+quad schemes URL attributes are the same as for the mqtt/mqtts scheme. The only difference is that when using the quad scheme, a part of the topic of publication/subscription is automatically generated. The topic will be the concatenation of the &lt;topic_prefix&gt; attribute and the generated part which looks like <code>/quad/{quadtree_path}/{message_type}/{unique_id}/{format}</code> where :</p><ul>
<li>quadtree_path : A string that allows us to do geographical filtering when we want to send/receive messages of a specific area of interest. A quadtree is a tree data sctucture in which each internal node has exactly four children and are used to partition a two-dimensional space (a worldmap in our case) by recursively subdividing it into four quadrants or regions. The number of recursive steps (called zoom level) determines the size of the area whereas the index of the quadrants (called tile) determines the exact location. It can be seen as a way of filtering based on squared bounding boxes with predetermined locations and sizes. It allows to do geographical filtering based on the topic we subscribe to. In our case, we subscribe to the tile we are currently on and the eight adjacent tiles with a zoom level set to 15. Publication are made with zoom level set to 18.</li>
<li>message_type : The type of the message (cam, denm, spat, map, ivi...)</li>
<li>unique_id : a unique identifier for the incoming/outcoming message.</li>
<li>format : The format of the message (asn1uper, json, xml ...)</li>
</ul>
<h2>AMQP ITS Sockets</h2>
<p>The AMQP protocol handler creates an instance of an AMQP client from the information set in the corresponding configuration file (10-m2mservice.xml) to communicate with a remote AMQP Message Broker.</p>
<p>For emission, packets are published to the remote Broker on a specific exchange. Regarding the exchange type,a routing key has to be specified.</p>
<p>For reception, the AMQP client binds a queue to an existing exchange with a given routing key.</p>
<p>When enabled, the amqp protocol handler registers the following socket protocols:</p>
<table class="doxtable">
<tr>
<th>Scheme </th><th>Accepted notations </th><th>Description  </th></tr>
<tr>
<td>amqp </td><td>amqp://[&lt;username&gt;:&lt;password&gt;]@&lt;host&gt;:&lt;port&gt;/&lt;virtual_host&gt;?&lt;exchange&gt;!&lt;routing_key&gt; <br />
 amqp://&lt;alias&gt;?&lt;exchange&gt;!&lt;routing_key&gt; </td><td>Receive and send packets through AMQP protocol without TLS/SSL </td></tr>
<tr>
<td>amqps </td><td>amqps://&lt;alias&gt;?&lt;exchange&gt;!&lt;routing_key&gt; </td><td>Received and send packets through AMQP protocol with TLS/SSL </td></tr>
</table>
<p>For the amqp/amqps schemes here is the meaning of the URL attributes:</p><ul>
<li>&lt;username&gt; : The username to use to authenticate to the server.</li>
<li>&lt;password&gt; : The password to use to authenticate to the server.</li>
<li>&lt;host&gt; : hostname or IP address of the server.</li>
<li>&lt;port&gt; : TCP port used by the server.</li>
<li>&lt;alias&gt; : A server alias. If it matches an alias set in the configuration file of this service (10-m2mservice.xml) it will use the corresponding information of that server (cf. List of MIB entries).</li>
<li>&lt;virtual_host&gt; : The virtual host to use to connect to the server</li>
<li>&lt;exchange&gt; : the exchange</li>
<li>&lt;routing_key&gt; : For a socket sender, the routing key of the message you want to send. For a receiver socket, the routing key used for creating the binding between a queue and the exchange.</li>
</ul>
<h1>Configuration and MIBs</h1>
<h2>List of MIB Entries</h2>
<p>Details of MIB entries</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>mqtt </td><td>enabled </td><td>Whether the MQTT protocol handler shall be enabled </td><td>false </td></tr>
<tr>
<td>amqp </td><td>enabled </td><td>Whether the AMQP protocol handler shall be enabled </td><td>false </td></tr>
<tr>
<td>mqtt_servers </td><td>count </td><td>The number of MQTT clients to configure </td><td>0 </td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>alias </td><td>Alias for this mqtt service (classically the same as address). The alias is used to match the server entry to use. If a hostname in the mqtt:// url matches a declared server alias, the corresponding line is used. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>address </td><td>Hostname or IP(v4/v6) address to connect to. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>port </td><td>TCP port to connect to. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>tls </td><td>Whether TLS should be enabled. The target server must have a valid certificate. The server's certificate must be signed by a certificate authority registered in the operating system's trusted CA list. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>username </td><td>Define the username to use to authenticate to the server. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>password </td><td>Define the password to use to authenticate to the server. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>clientid </td><td>Client Id to use in MQTT connection. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>sslprotocol </td><td>SSL protocols to use for the connection to the server. Should be let to default value. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>sslciphers </td><td>Space-separated list of cipher suites to use. Ciphers suites must be provided as understood by Java. Should be let the default value. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>sslclientcert </td><td>Path to the client certificate+key, in the PKCS12 format. </td><td></td></tr>
<tr>
<td>mqtt_server&lt;n&gt; </td><td>sslpassword </td><td>Password used to protect the PKCS12 store. Omit if no password. </td><td></td></tr>
<tr>
<td>amqp_servers </td><td>count </td><td>The number of AMQP clients to configure </td><td>0 </td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>alias </td><td>Alias for this amqp service (classically the same as address). The alias is used to match the server entry to use. If a hostname in the amqp:// url matches a declared server alias, the corresponding line is used. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>address </td><td>Hostname or IP(v4/v6) address to connect to. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>port </td><td>TCP port to connect to. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>tls </td><td>Whether TLS should be enabled. The target server must have a valid certificate. The server's certificate must be signed by a certificate authority registered in a truststore CA list. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>username </td><td>Define the username to use to authenticate to the server. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>password </td><td>Define the password to use to authenticate to the server. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>virtualhost </td><td>The virtualhost to connect to. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>sslprotocol </td><td>SSL protocols to use for the connection to the server. Should be let to default value. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>clientcertpath </td><td>Path to the client certificate. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>clientcertpassword </td><td>Password associated with the client certificate. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>truststorepath </td><td>Path to the truststore to use for TLS authentication. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>truststorepassword </td><td>Password associated with the truststore. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt; </td><td>exchangescount </td><td>Number of exchanges to be declared at the middleware start. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt;.exchange&lt;n&gt; </td><td>name </td><td>Name of the exchange to be declared. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt;.exchange&lt;n&gt; </td><td>type </td><td>Type of the exchange to be declared. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt;.exchange&lt;n&gt; </td><td>durable </td><td>Whether the exchange shall be durable. </td><td></td></tr>
<tr>
<td>amqp_server&lt;n&gt;.exchange&lt;n&gt; </td><td>autodelete </td><td>Whether the exchange shall autodelete. </td><td></td></tr>
</table>
<h2>Sample configuration</h2>
<p><em><b>config/10-m2mservice.xml</b></em></p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div><div class="line">&lt;<span class="keywordtype">configuration</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">service</span> <span class="keyword">start</span>=<span class="stringliteral">&quot;true&quot;</span> <span class="keyword">instance</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;<span class="keyword">M2MService</span>&lt;/<span class="keywordtype">service</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">config</span>&gt;</div><div class="line">        <span class="comment">&lt;!-- Enable MQTT protocol handler --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">mqtt</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- List of servers (starting from 1)</span></div><div class="line"><span class="comment">            alias: Alias for this mqtt service (classically the same as address).</span></div><div class="line"><span class="comment">                The alias is used to match the server entry to use. If a hostname</span></div><div class="line"><span class="comment">                in the mqtt:// url matches a declared server alias, the corresponding</span></div><div class="line"><span class="comment">                line is used.</span></div><div class="line"><span class="comment">            address: Hostname or IP(v4/v6) address to connect to</span></div><div class="line"><span class="comment">            port: TCP port to connect to</span></div><div class="line"><span class="comment">            tls: Whether TLS should or should not be enabled, TLS v1.0, v1.1 and v1.2</span></div><div class="line"><span class="comment">                are supported. The target server must have a valid certificate. The</span></div><div class="line"><span class="comment">                server&#39;s certificate must be signed by a certificate authority</span></div><div class="line"><span class="comment">                registered in the operating system trusted CA list.</span></div><div class="line"><span class="comment">                On Debian, the CA must be added in /usr/local/share/ca-certificates/</span></div><div class="line"><span class="comment">                then the command update-ca-certificates must be called.</span></div><div class="line"><span class="comment">            username: Define the username to use to authenticate to the server</span></div><div class="line"><span class="comment">            password: Define the password to use to authenticate to the server</span></div><div class="line"><span class="comment">            clientid: Client Id to use in MQTT connection</span></div><div class="line"><span class="comment">            sslprotocol: SSL protocols to use for the connection to the server.</span></div><div class="line"><span class="comment">                Accepted values are &quot;TLSv1&quot;, &quot;TLSv1.1&quot; and &quot;TLSv1.2&quot;. If not specified,</span></div><div class="line"><span class="comment">                the connection will use either TLS 1.0, 1.1 or 1.2 protocols. Should be</span></div><div class="line"><span class="comment">                let to the default value.</span></div><div class="line"><span class="comment">            sslciphers: Space-separated list of cipher suites to use. Ciphers suites</span></div><div class="line"><span class="comment">                must be provided as understood by Java. Should be let the default value.</span></div><div class="line"><span class="comment">                See http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html</span></div><div class="line"><span class="comment">            sslclientcert: Path to the client certificate+key, in the PKCS12 format.</span></div><div class="line"><span class="comment">            sslpassword: Password used to protect the PKCS12 store. Omit if no password.</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">mqtt_servers</span> <span class="keyword">count</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line"></div><div class="line">        &lt;<span class="keywordtype">mqtt_server1</span> <span class="keyword">alias</span>=<span class="stringliteral">&quot;MQTT_Broker&quot;</span></div><div class="line">                      <span class="keyword">address</span>=<span class="stringliteral">&quot;127.0.0.1&quot;</span></div><div class="line">                      <span class="keyword">port</span>=<span class="stringliteral">&quot;8883&quot;</span></div><div class="line">                      <span class="keyword">tls</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                      <span class="keyword">username</span>=<span class="stringliteral">&quot;username&quot;</span></div><div class="line">                      <span class="keyword">password</span>=<span class="stringliteral">&quot;password&quot;</span></div><div class="line">                      <span class="keyword">clientid</span>=<span class="stringliteral">&quot;testClient&quot;</span></div><div class="line">                      <span class="keyword">sslclientcert</span>=<span class="stringliteral">&quot;/path/to/the/certificate&quot;</span></div><div class="line">                      <span class="keyword">sslpassword</span>=<span class="stringliteral">&quot;password&quot;</span>/&gt;</div><div class="line"></div><div class="line">        &lt;<span class="keywordtype">amqp_servers</span> <span class="keyword">count</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line"></div><div class="line">        &lt;<span class="keywordtype">amqp_server1</span> <span class="keyword">alias</span>=<span class="stringliteral">&quot;AMQP_Broker&quot;</span></div><div class="line">                      <span class="keyword">address</span>=<span class="stringliteral">&quot;127.0.0.1&quot;</span></div><div class="line">                      <span class="keyword">virtualhost</span>=<span class="stringliteral">&quot;/&quot;</span></div><div class="line">                      <span class="keyword">port</span>=<span class="stringliteral">&quot;5671&quot;</span></div><div class="line">                      <span class="keyword">username</span>=<span class="stringliteral">&quot;guest&quot;</span></div><div class="line">                      <span class="keyword">password</span>=<span class="stringliteral">&quot;guest&quot;</span></div><div class="line">                      <span class="keyword">tls</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                      <span class="keyword">clientcertpath</span>=<span class="stringliteral">&quot;/path/to/the/certificate&quot;</span></div><div class="line">                      <span class="keyword">clientcertpassword</span>=<span class="stringliteral">&quot;passwordcertificate&quot;</span></div><div class="line">                      <span class="keyword">truststorepath</span>=<span class="stringliteral">&quot;/path/to/the/truststore&quot;</span></div><div class="line">                      <span class="keyword">truststorepassword</span>=<span class="stringliteral">&quot;passwordtruststore&quot;</span></div><div class="line">                      <span class="keyword">exchangesCount</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                      <span class="keyword">exchange1.name</span>=<span class="stringliteral">&quot;testExchange&quot;</span></div><div class="line">                      <span class="keyword">exchange1.type</span>=<span class="stringliteral">&quot;topic&quot;</span></div><div class="line">                      <span class="keyword">exchange1.durable</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div><div class="line"></div><div class="line">        &lt;<span class="keywordtype">ws_servers</span> <span class="keyword">count</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line"></div><div class="line">        &lt;<span class="keywordtype">ws_server1</span> <span class="keyword">alias</span>=<span class="stringliteral">&quot;wsEchoServer&quot;</span></div><div class="line">                    <span class="keyword">address</span>=<span class="stringliteral">&quot;127.0.0.1&quot;</span></div><div class="line">                    <span class="keyword">port</span>=<span class="stringliteral">&quot;8081&quot;</span></div><div class="line">                    <span class="keyword">tls</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                    <span class="keyword">path</span>=<span class="stringliteral">&quot;/path/to/ws&quot;</span> /&gt;</div><div class="line"></div><div class="line">    &lt;/<span class="keywordtype">config</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">configuration</span>&gt;</div></div><!-- fragment --> <h1>Usage examples</h1>
<p>Some examples of mqtt and amqp ITS socket URIs are provided below:</p><ul>
<li><em><b>mqtt://username:password@127.0.0.1:1883?ignorenwerror=1/itsmessages/notls/upstream/cam/</b></em> (sender URI) - Open an MQTT ITS Socket for publishing ITS messages with the topic "itsmessages/notls/upstream//cam" on a local broker. If the Broker is not reachable it will ignore the error and keep trying to publish messages.</li>
<li><em><b>mqtt://username:password@127.0.0.1:1883/itsmessages/notls/downstream/cam/</b></em> (receiver URI) - Open an MQTT ITS Socket for receiving ITS Messages with the topic "itsmessages/notls/downstream/cam" on a local broker. If the broker is not reachable it will throw an error and the messaging Facility will crash.</li>
<li><em><b>mqtts://MQTT_Broker/itsmessages/tls/upstream/cam</b></em> (receiver URI) - Open an MQTT ITS Socket for receiving ITS Messages with the topic "itsmessages/tls/upstream/cam" on the broker configured in the configuration file.</li>
<li><em><b>amqp://username:password@127.0.0.1:5672/vhost?DENM!#</b></em> (receiver URI) - Open an AMQP ITS Socket for receiving all ITS Messages published on the exchange called "DENM".</li>
<li><em><b>amqps://AMQP_Broker?DENM!upstream.denm</b></em> (sender URI) - Open an AMQP ITS Socket for publishing all ITS Messages generated by the messaging Facility on the "DENM" exchange with "upstream.denm" as the routing key. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Tue Mar 14 2023 16:13:24 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
