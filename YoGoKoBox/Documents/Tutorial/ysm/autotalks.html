<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Autotalks CR1</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="yogoko.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="https://www.yogoko.com/"><img height="40px" src="yogoko-logo-svg-fr-white.png" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">YoGoKo Smart Middleware</span></p>
              <ul id="yogoko-navlist" class="nav navbar-nav"></ul>
              <form id="yogoko-searchform" class="navbar-form navbar-left navbar-right hidden-sm hidden-xs">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('autotalks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Autotalks CR1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Overview</h1>
<p><b>YoGoKo Autotalks services</b> is the image developed by YoGoKo to be deployed on a Autotalks Craton 1 platform. It implements the ETSI and IEEE access layer and provide access to hardware capabilities of the Autotalks Craton 1 platform (Hardware Security Module and GNSS chipsets).</p>
<h2>Supported standards</h2>
<p><b>YoGoKo Autotalks services</b> supports the following protocols:</p>
<p><em><b>To be documented in a future version</b></em></p>
<h1>Features</h1>
<h2>V2X link</h2>
<p>The V2X link service basically performs emission and reception of frames and controls low-layer parameters and Autotalks MIBs for V2X radios. The V2X link service may not be accessed directly but is used by the V2X bridge service and the Embedded libgn implementation.</p>
<p>In order to support both ETSI and WAVE protocols, the V2X link service may be configured to process incoming and outgoing frames in LPD (LLC Protocol Discrimination) or EPD (Ethertype Protocol Discrimination).</p>
<p>Configuration variables may setup a strict mode or an autodetection of incoming frames:</p><ul>
<li><em><b>v2x_link(1|2).frame_format</b></em> may be set to "lpd" (frames are emitted with a LLC header) or "epd" (frames are emitted with a Ethertype header)</li>
<li><em><b>v2x_link(1|2).frame_autodetect</b></em> may be set to "true" (format of received frames is automatically detected) or "false" (received frames are interpreted using the <em><b>v2x_link(1|2).frame_format</b></em> format)</li>
</ul>
<h2>Radio control</h2>
<p><em><b>To be documented in a future version</b></em></p>
<h2>V2X bridge</h2>
<p>The V2X bridge service provides a V2X bridging feature allowing emission and reception of frames on the V2X radios, and their transmission to a Linux host.</p>
<p>The V2X bridge service is connected to the atbridge daemon on the Linux host, which presents each radio as a virtual TAP interface (v2x0 and v2x1). Two TCP connections are maintained per radio interface:</p><ul>
<li><b>RX radio channel</b>: Frames received from the V2X radio on Autotalks are transmitted by the V2X bridge to the Linux and presented as a received frame on the corresponding v2x virtual interface.</li>
<li><b>TX radio channel</b>: Frames emitted on Linux through a v2x virtual interface are transmitted to the V2X bridge on Autotalks then sent on the corresponding V2X radio.</li>
</ul>
<div class="dotgraph">
<img src="dot_inline_dotgraph_3.png" alt="dot_inline_dotgraph_3.png" border="0" usemap="#dot_inline_dotgraph_3.map"/>
<map name="dot_inline_dotgraph_3.map" id="dot_inline_dotgraph_3.map"></map>
</div>
<h2>MAC table</h2>
<p>The MAC table service provides a table of neighboring stations, identified by their MAC address.</p>
<p>When a frame is received from a V2X radio, the MAC table service updates its table with the following informations:</p><ul>
<li><em><b>mac</b></em>: MAC address of the emitting station</li>
<li><em><b>rssi</b></em>: RSSI (Received Signal Strength Indication) of the received frame</li>
<li><em><b>last_update</b></em>: UTC timestamp of the reception of the frame</li>
</ul>
<p>A table is maintained for each radio interface and may be requested through a MIB GET request. Entries are removed from the table when they are older than <em><b>expiration_sec</b></em> seconds.</p>
<h2>Position provider</h2>
<p>The position provider service sends to the middleware GNSS fixes received from the embedded GNSS chipset.</p>
<p>The position provider service retrieves a nav fix through the Autotalks API each <em><b>frequency</b></em> milliseconds, builds a PVT fix and sends it to the middleware on the msgid provided in configuration.</p>
<h2>Security driver service</h2>
<p>The security driver service provides an access to Autotalks HSM.</p>
<p>This service is described on page <a class="el" href="secdriver.html">Security Driver</a></p>
<h2>Embedded libgn implementation</h2>
<p><b>Until YoGoKo Autotalks v3.6</b>: The Autotalks Craton 1 image provided by YoGoKo embeds libgn, allowing th execution of <b>itsnet</b> on the Craton 1 chipset.</p>
<p><b>Changes in YoGoKo Autotalks services v4.0</b>: From version 4.0, the support of libgn implementation is completely removed from <b>YoGoKo Autotalks services</b>. The only supported way to execute <b>itsnet</b> on platforms with an Autotalks Craton 1 chipset is to execute it as a Linux daemon and to use V2X bridging to send/receive frames to/from the V2X radios.</p>
<h1>Configuration and MIBs</h1>
<p><b>YoGoKo Autotalks services</b> obtains its configuration through the YoGoKo Middleware configuration mechanism, from YoGoKo Middleware configuration file <em><b>XY-autotalks.xml</b></em></p>
<h2>List of MIB entries</h2>
<p>Details of MIB entries:</p>
<table class="doxtable">
<tr>
<th>Section </th><th>Field </th><th>Description </th><th>Default value  </th></tr>
<tr>
<td>syslog </td><td>sink </td><td>disable logging to the given destination (bitwise OR): (0x02=serial console, 0x04=syslog TCP, 0x08=syslog UDP) </td><td>- </td></tr>
<tr>
<td>syslog </td><td>level </td><td>syslog level </td><td>- </td></tr>
<tr>
<td>general </td><td>version </td><td>version and revision of the threadx image (read-only) </td><td>- </td></tr>
<tr>
<td>general </td><td>commit </td><td>commit identifier of the threadx image (read-only) </td><td>- </td></tr>
<tr>
<td>system </td><td>uptime </td><td>system uptime of the threadx image in seconds (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_link(1|2) </td><td>frame_autodetect </td><td>autodetect protocol discrimination in reception</td><td>true </td></tr>
<tr>
<td>v2x_link(1|2) </td><td>frame_format </td><td>link layer protocol discrimination format ("epd" or "lpd") </td><td>"lpd" </td></tr>
<tr>
<td>v2x_link(1|2) </td><td>is_running </td><td>whether the v2x link 1 service is running </td><td>1 </td></tr>
<tr>
<td>channel </td><td>(advanced parameters) </td><td>Advanced parameters are undocumented and let for experts usage only </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanfrequency </td><td>Frequency of the WLAN interface (in MHz) </td><td>5900 </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanmacaddress </td><td>MAC Address of the WLAN interface if source address override is disabled </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanbssid </td><td>BSSID Address of the WLAN interface </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlandefaulttxdatarate </td><td>Default TX datarate (in units of 0.5Mbps, e.g. 12 -&gt; 6Mbps) </td><td>12 </td></tr>
<tr>
<td>channel(1|2)</td><td>wlandefaulttxpower </td><td>Default TX power when V2X radio controller is disabled (in dBm) </td><td>33 </td></tr>
<tr>
<td>channel(1|2) </td><td>wlandefaulttxpowerdbm8 </td><td>Default TX power when V2X radio controller is disabled (in units of 1/8 dBm) </td><td>264 </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanphyofdmchannelwidth </td><td>OFDM channel width (10 MHz or 20 MHz) </td><td>10 </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanframetxcnt </td><td>Counter of frames emitted through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanframetxcount </td><td>Synonym as wlanframetxcount </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanframerxcnt </td><td>Counter of frames received through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanframerxcount </td><td>Synonym as wlanframerxcount </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlantxfailcnt </td><td>Counter of frames failed to emit through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlantxallocfailcnt </td><td>Counter of allocation failed for frames to emit through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlantxqueuefailcnt </td><td>Counter of enqueuing failed for frames to emit through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrxfailcnt </td><td>Counter of frames failed to receive through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrxallocfailcnt </td><td>Counter of allocation failed for frames to receive through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrxqueuefailcnt </td><td>Counter of enqueuing failed for frames to receive through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrxcrcfailcnt </td><td>Counter of CRC failed for frames to receive through the radio (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanchannelbusyratio </td><td>Busy ration of the radio channel (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanphyheadererrcnt </td><td>Counter of error due to wrong header on the radio channel (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrssilatestframe </td><td>RSSI value of the latest received frame (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrfictemperature </td><td>RFIC temperature (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>wlanrcpilatestframe </td><td>Received channel power indicator of the latest received frame (read-only) </td><td>- </td></tr>
<tr>
<td>channel(1|2) </td><td>(advanced parameters) </td><td>Advanced parameters are undocumented and let for experts usage only </td><td>- </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>enabled </td><td>Enable the radio controller </td><td>true </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>maxtxpower </td><td>Maximum TX power to enforce on outgoing frames (dBm) - Note: commonly set or modified by the RadioManagement</td><td>23 </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>dccalg </td><td>DCC (Decentralized Congestion Control) algorithm to apply (0=disabled, 1=external, 2=internal reactive DCC implementation) - Note: Set to 2 to simply enable DCC </td><td>0 </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>dcctoff </td><td>Current t_off in microseconds that must be applied to dcc </td><td>0 </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>dccinternalstate </td><td>State of the internal DCC implementation (0=RELAXED, 1=ACTIVE, 2=RESTRICTED) (read-only) </td><td>0 </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>txprobe_maxage </td><td>Duration the TX probe should be applied on (in us) - Note: impacts the results of ton and dutycycle computing </td><td>2000000 </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>txprobe_ton </td><td>Current t_on of the radio measured over txprobe_maxage (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>txprobe_dutycycle </td><td>Current dutycycle of the radio measured over txprobe_maxage (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>rxprobe_rssimin </td><td>Minimum RSSI measured on received frames since the startup (-99=unknown) (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>rxprobe_rssimax </td><td>Maximum RSSI measured on received frames since the startup (-99=unknown) (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_radioctrl(1|2) </td><td>rxprobe_rssiavg </td><td>Average RSSI measured on received frames since the startup (-99=unknown) (read-only) </td><td>- </td></tr>
<tr>
<td>bridge(1|2) </td><td>enabled </td><td>Enable the bridge thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>bridge(1|2) </td><td>rxport </td><td>Remote TCP port for the RX radio channel </td><td>500 (bridge1)<br />
 502 (bridge2) </td></tr>
<tr>
<td>bridge(1|2) </td><td>txport </td><td>Local TCP port for the TX radio channel </td><td>501 (bridge1)<br />
 503 (bridge2) </td></tr>
<tr>
<td>bridge(1|2) </td><td>rxconnected </td><td>Whether the TCP connection for the RX radio channel is established (read-only) </td><td>- </td></tr>
<tr>
<td>bridge(1|2) </td><td>txconnected </td><td>Whether the TCP connection for the TX radio channel is established (read-only) </td><td>- </td></tr>
<tr>
<td>bridge(1|2) </td><td>rxcount </td><td>Number of RX radio frames sent through the bridge (read-only) </td><td>- </td></tr>
<tr>
<td>bridge(1|2) </td><td>txcount </td><td>Number of TX radio frames received from the bridge (read-only) </td><td>- </td></tr>
<tr>
<td>bridge(1|2) </td><td>txdropped </td><td>Number of TX radio frames dropped before being sent to the radio (read-only) </td><td>- </td></tr>
<tr>
<td>positionprovider </td><td>enabled </td><td>Enable the position provider thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>positionprovider </td><td>appid </td><td>Choir application ID to connect to the middleware </td><td>124 </td></tr>
<tr>
<td>positionprovider </td><td>messageid </td><td>Choir message ID to publish positions to </td><td>201 </td></tr>
<tr>
<td>positionprovider </td><td>frequency </td><td>Frequency to sense and send positions fixs (in ms) </td><td>100 </td></tr>
<tr>
<td>positionprovider </td><td>mmcx </td><td>Whether to use the MMCX or the Fakra antenna connector (0=Fakra, 1=MMCX) </td><td>1 </td></tr>
<tr>
<td>positionprovider </td><td>is_running </td><td>Whether the service is currently running (read-only) </td><td>- </td></tr>
<tr>
<td>positionprovider </td><td>fix_count </td><td>Number of sent position fixes (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>enabled </td><td>Enable the V2X mac table thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>expiration_sec </td><td>Expiration of MAC entries (in seconds) </td><td>40 </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>index </td><td>Number of entries in the mac table (read-only) </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>entry_*_mac </td><td>MAC address of the emitting station </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>entry_*_rssi </td><td>RSSI of the received frame </td><td>- </td></tr>
<tr>
<td>v2x_mac_table_(1|2) </td><td>entry_*_last_update </td><td>UTC timestamp of the reception of the frame </td><td>- </td></tr>
<tr>
<td>secdrv_service </td><td>enabled </td><td>Enable the security driver service thread (0=disabled, 1=enabled) </td><td>1 </td></tr>
<tr>
<td>secdrv_service </td><td>secsrv_appid </td><td>Application ID of the security service </td><td>286 </td></tr>
<tr>
<td>secdrv_service </td><td>secsrv_msgid </td><td>Message ID the security service subscribes to </td><td>190 </td></tr>
<tr>
<td>secdrv_service </td><td>unlockreq_appid </td><td>Application ID of HSM unlock requests </td><td>297 </td></tr>
<tr>
<td>secdrv_service </td><td>unlockreq_msgid </td><td>Message ID the security service publishes unlock requests to </td><td>193 </td></tr>
<tr>
<td>secdrv_service </td><td>is_running </td><td>Whether the security driver service is running (read-only) </td><td>- </td></tr>
<tr>
<td>secdrv_service </td><td>hsm_ready </td><td>Whether the security driver service is ready to receive crypto operations (read-only) </td><td>- </td></tr>
<tr>
<td>hsm </td><td>state </td><td>State of the HSM (0=locked, 1=unlocked) (read-only) </td><td>- </td></tr>
<tr>
<td>hsm </td><td>tpk.pubkey_alg </td><td>Public key algorithm of the TPK (read-only) </td><td>- </td></tr>
<tr>
<td>hsm </td><td>tpk.pt_type </td><td>Point type of the TPK (read-only) </td><td>- </td></tr>
<tr>
<td>hsm </td><td>tpk.x </td><td>X coordinate of the TPK (read-only) </td><td>- </td></tr>
<tr>
<td>hsm </td><td>tpk.y </td><td>Y coordinate of the TPK (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.gen_keys </td><td>Count of generated keys (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.sign </td><td>Number of signature operations performed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.sign_err </td><td>Number of signature operations failed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.verify </td><td>Number of verification operations performed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.verify_err </td><td>Number of verification operations failed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.ecies_enc </td><td>Number of ECIES encryption operations performed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.ecies_enc_err </td><td>Number of ECIES encryption operations failed (read-only) </td><td>- </td></tr>
<tr>
<td>stats </td><td>hsm.ecies_dec_err </td><td>Number of ECIES decryption operations failed (read-only) </td><td>- </td></tr>
</table>
<h2>Sample configuration file</h2>
<p><em><b>10-autotalks.xml</b></em></p>
<div class="fragment"><div class="line">&lt;?<span class="keyword">xml</span> <span class="keyword">version</span>=<span class="stringliteral">&quot;1.0&quot;</span> <span class="keyword">encoding</span>=<span class="stringliteral">&quot;utf-8&quot;</span>?&gt;</div><div class="line">&lt;<span class="keywordtype">configuration</span>&gt;</div><div class="line">    <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">        Autotalks Services Configuration</span></div><div class="line"><span class="comment">    --&gt;</span></div><div class="line">    &lt;<span class="keywordtype">service</span> <span class="keyword">start</span>=<span class="stringliteral">&quot;true&quot;</span> <span class="keyword">instance</span>=<span class="stringliteral">&quot;0&quot;</span>&gt;<span class="keyword">AutotalksServices</span>&lt;/<span class="keywordtype">service</span>&gt;</div><div class="line">    &lt;<span class="keywordtype">config</span>&gt;</div><div class="line">        <span class="comment">&lt;!-- Syslog parameters</span></div><div class="line"><span class="comment">            level: syslog level (3=error, 4=warning, 5=notice, 6=info, 7=debug)</span></div><div class="line"><span class="comment">            sink: disable logging to the given destination (bitwise OR)</span></div><div class="line"><span class="comment">                  - 0x02: serial console</span></div><div class="line"><span class="comment">                  - 0x04: syslog TCP</span></div><div class="line"><span class="comment">                  - 0x08: syslog UDP</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">syslog</span> <span class="keyword">level</span>=<span class="stringliteral">&quot;4&quot;</span> <span class="keyword">sink</span>=<span class="stringliteral">&quot;8&quot;</span>/&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Autotalks per-channel parameters (see the Autotalks documentation for details)</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            Commonly useful parameters</span></div><div class="line"><span class="comment">            -&gt; The following parameters may be set with no harm</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            wlanfrequency: Frequency of the WLAN interface (in MHz)</span></div><div class="line"><span class="comment">            wlanmacaddress: MAC Address of the WLAN interface if source address override is disabled</span></div><div class="line"><span class="comment">            wlanbssid: BSSID Address of the WLAN interface</span></div><div class="line"><span class="comment">            wlandefaulttxdatarate: Default TX datarate (in units of 0.5Mbps, e.g. 12 -&gt; 6Mbps)</span></div><div class="line"><span class="comment">            wlandefaulttxpower: Default TX power when V2X radio controller is disabled (in dBm)</span></div><div class="line"><span class="comment">            wlandefaulttxpowerdbm8: Default TX power when V2X radio controller is disabled (in units of 1/8 dBm)</span></div><div class="line"><span class="comment">            wlanphyofdmchannelwidth: OFDM channel width (10 MHz or 20 MHz)</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            Advanced parameters</span></div><div class="line"><span class="comment">            -&gt; The following parameters are not tested or required</span></div><div class="line"><span class="comment">               not to be modified for proper functioning and should</span></div><div class="line"><span class="comment">               be let to default values in most cases</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            wlanrfenabled: Enable the RF (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlanrffrontendoffset: RF Frontend offset (in dBm)</span></div><div class="line"><span class="comment">            wlanrftestmode: Enable RF test mode (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlanrandombackoffenabled: Enable WiFi random backoff (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlantxsaoverrideenabled: Enable TX source address override (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlanrxucastdafilterenabled: Enable RX destination address filtering (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlanshortretrylimit: Transmission attempts for frames</span></div><div class="line"><span class="comment">            wlanqosdataenabled: Enable WiFi QOS data (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlancsintervala: Channel A interval value (in ms)</span></div><div class="line"><span class="comment">            wlancsintervalb: Channel B interval value (in ms)</span></div><div class="line"><span class="comment">            wlancssynctolerance: Channel Sync Tolerance value (in ms)</span></div><div class="line"><span class="comment">            wlanchannelprobinginterval: CBR probing interval (in ms)</span></div><div class="line"><span class="comment">            wlanchannelloadthreshold: CBR probing signal threshold (in dBm)</span></div><div class="line"><span class="comment">            wlandcocenabled: Enable DC Offset Cancellation (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            wlanpantlutindex: Power antenna LUT entry for use (1-4)</span></div><div class="line"><span class="comment">            wlanrfcalibrationrequired: Whether RF calibration is required (0=no, 1=yes)</span></div><div class="line"><span class="comment">            wlanrxsamplegainlow: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlanrxsamplegainmid: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlanrxsamplegainhigh: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlanrxsamplegainhigh: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlangrfisignaldelayresolution: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlanrxiqimbalanceamplitude: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlanrxiqimbalancephase: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlantxiqimbalanceamplitude: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">            wlantxiqimbalancephase: Radio calibration parameter, see Autotalks documentation</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">channel1</span> <span class="keyword">wlanfrequency</span>=<span class="stringliteral">&quot;5900&quot;</span></div><div class="line">                  <span class="keyword">wlanphyofdmchannelwidth</span>=<span class="stringliteral">&quot;10&quot;</span></div><div class="line">                  <span class="keyword">wlandefaulttxpower</span>=<span class="stringliteral">&quot;33&quot;</span></div><div class="line">                  <span class="keyword">wlandefaulttxdatarate</span>=<span class="stringliteral">&quot;12&quot;</span></div><div class="line">                  <span class="keyword">wlantxsaoverrideenabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                  <span class="keyword">wlanrxucastdafilterenabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                  <span class="keyword">wlanrandombackoffenabled</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">channel2</span> <span class="keyword">wlanfrequency</span>=<span class="stringliteral">&quot;5880&quot;</span></div><div class="line">                  <span class="keyword">wlanphyofdmchannelwidth</span>=<span class="stringliteral">&quot;10&quot;</span></div><div class="line">                  <span class="keyword">wlandefaulttxpower</span>=<span class="stringliteral">&quot;33&quot;</span></div><div class="line">                  <span class="keyword">wlandefaulttxdatarate</span>=<span class="stringliteral">&quot;12&quot;</span></div><div class="line">                  <span class="keyword">wlantxsaoverrideenabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                  <span class="keyword">wlanrxucastdafilterenabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                  <span class="keyword">wlanrandombackoffenabled</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Autotalks global channel parameters (see the Autotalks documentation for details)</span></div><div class="line"><span class="comment">            Advanced parameters</span></div><div class="line"><span class="comment">            -&gt; The following parameters are not tested or required</span></div><div class="line"><span class="comment">               not to be modified for proper functioning and should</span></div><div class="line"><span class="comment">               be let to default values in most cases</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">            wlanrxduplicateframefilteringenabled: Enable duplicate frame filtering</span></div><div class="line"><span class="comment">            wlanepdenabled: Enable Ethertype Packet Discrimination</span></div><div class="line"><span class="comment">            wlantxdiversityenabled: Enable TX diversity</span></div><div class="line"><span class="comment">            wlantxcsd: Set Cyclic Shift Delay</span></div><div class="line"><span class="comment">            wlanrxdiversityenabled: Enable RX diversity</span></div><div class="line"><span class="comment">            wlanconfigsavestatus: Set WLAN config save status</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">        &lt;channel wlanrxduplicateframefilteringenabled=&quot;0&quot;</span></div><div class="line"><span class="comment">                 wlanepdenabled=&quot;0&quot;</span></div><div class="line"><span class="comment">                 wlantxdiversityenabled=&quot;0&quot;</span></div><div class="line"><span class="comment">                 wlantxcsd=&quot;2&quot;</span></div><div class="line"><span class="comment">                 wlanrxdiversityenabled=&quot;0&quot;</span></div><div class="line"><span class="comment">                 wlanconfigsavestatus=&quot;1&quot; /&gt;</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Radio controller parameters (for radios 1 and 2)</span></div><div class="line"><span class="comment">            enabled: Enable the radio controller</span></div><div class="line"><span class="comment">            maxtxpower: Maximum TX power to enforce on outgoing frames (dBm)</span></div><div class="line"><span class="comment">                        Note: commonly set or modified by the RadioManagement</span></div><div class="line"><span class="comment">            dccalg: DCC (Decentralized Congestion Control) algorithm to apply</span></div><div class="line"><span class="comment">                    (0=disabled, 1=external, 2=internal reactive DCC implementation)</span></div><div class="line"><span class="comment">                    Note: Set to 2 to simply enable DCC</span></div><div class="line"><span class="comment">            txprobe_maxage: Duration the TX probe should be applied on (in us)</span></div><div class="line"><span class="comment">                            Note: mpacts the results of ton and dutycycle computing</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">v2x_radioctrl1</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                        <span class="keyword">maxtxpower</span>=<span class="stringliteral">&quot;23&quot;</span></div><div class="line">                        <span class="keyword">dccalg</span>=<span class="stringliteral">&quot;0&quot;</span></div><div class="line">                        <span class="keyword">txprobe_maxage</span>=<span class="stringliteral">&quot;2000000&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">v2x_radioctrl2</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;true&quot;</span></div><div class="line">                        <span class="keyword">maxtxpower</span>=<span class="stringliteral">&quot;20&quot;</span></div><div class="line">                        <span class="keyword">dccalg</span>=<span class="stringliteral">&quot;0&quot;</span></div><div class="line">                        <span class="keyword">txprobe_maxage</span>=<span class="stringliteral">&quot;2000000&quot;</span> /&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Atbridge parameters (for radios 1 and 2)</span></div><div class="line"><span class="comment">            enabled: Enable the bridge thread (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            rxport: Port number the atbridge should listens on (on Autotalks side)</span></div><div class="line"><span class="comment">            txport: Port number the atbridge should sends packets to (on host side)</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">bridge1</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">rxport</span>=<span class="stringliteral">&quot;500&quot;</span> <span class="keyword">txport</span>=<span class="stringliteral">&quot;501&quot;</span> /&gt;</div><div class="line">        &lt;<span class="keywordtype">bridge2</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">rxport</span>=<span class="stringliteral">&quot;502&quot;</span> <span class="keyword">txport</span>=<span class="stringliteral">&quot;503&quot;</span> /&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- V2X link parameters</span></div><div class="line"><span class="comment">            frame_format: link layer protocol discrimination format (&quot;epd&quot; or &quot;lpd&quot;)</span></div><div class="line"><span class="comment">            frame_autodetect: autodetect protocol discrimination in reception</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">v2x_link1</span> <span class="keyword">frame_format</span>=<span class="stringliteral">&quot;lpd&quot;</span> <span class="keyword">frame_autodetect</span>=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div><div class="line">        &lt;<span class="keywordtype">v2x_link2</span> <span class="keyword">frame_format</span>=<span class="stringliteral">&quot;lpd&quot;</span> <span class="keyword">frame_autodetect</span>=<span class="stringliteral">&quot;true&quot;</span>/&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- V2X MAC table parameters</span></div><div class="line"><span class="comment">            enabled: Enable the V2X mac table thread (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            expiration_sec: Expiration of MAC entries (in seconds)</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">v2x_mac_table_1</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">expiration_sec</span>=<span class="stringliteral">&quot;40&quot;</span>/&gt;</div><div class="line">        &lt;<span class="keywordtype">v2x_mac_table_2</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span> <span class="keyword">expiration_sec</span>=<span class="stringliteral">&quot;40&quot;</span>/&gt;</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Position provider parameters</span></div><div class="line"><span class="comment">            enabled: Enable the position provider thread (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            appid: Choir application ID to connect to the middleware</span></div><div class="line"><span class="comment">            messageid: Choir message ID to publish positions to</span></div><div class="line"><span class="comment">            frequency: Frequency to sense and send positions fixs (in ms)</span></div><div class="line"><span class="comment">            mmcx: Whether to use the MMCX or the Fakra antenna connector (0=Fakra, 1=MMCX)</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">positionprovider</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                          <span class="keyword">appid</span>=<span class="stringliteral">&quot;124&quot;</span></div><div class="line">                          <span class="keyword">messageid</span>=<span class="stringliteral">&quot;201&quot;</span></div><div class="line">                          <span class="keyword">frequency</span>=<span class="stringliteral">&quot;100&quot;</span></div><div class="line">                          <span class="keyword">mmcx</span>=<span class="stringliteral">&quot;1&quot;</span> /&gt;</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- Security driver service parameters</span></div><div class="line"><span class="comment">            enabled: Enable the security driver service thread (0=disabled, 1=enabled)</span></div><div class="line"><span class="comment">            secsrv_appid: Application ID of the security service</span></div><div class="line"><span class="comment">            secsrv_msgid: Message ID the security service subscribes to</span></div><div class="line"><span class="comment">            unlockreq_appid: Application ID of HSM unlock requests</span></div><div class="line"><span class="comment">            unlockreq_msgid: Message ID the security service publishes unlock requests to</span></div><div class="line"><span class="comment">        --&gt;</span></div><div class="line">        &lt;<span class="keywordtype">secdrv_service</span> <span class="keyword">enabled</span>=<span class="stringliteral">&quot;1&quot;</span></div><div class="line">                <span class="keyword">secsrv_appid</span>=<span class="stringliteral">&quot;286&quot;</span></div><div class="line">                <span class="keyword">secsrv_msgid</span>=<span class="stringliteral">&quot;190&quot;</span></div><div class="line">                <span class="keyword">unlockreq_appid</span>=<span class="stringliteral">&quot;297&quot;</span></div><div class="line">                <span class="keyword">unlockreq_msgid</span>=<span class="stringliteral">&quot;193&quot;</span> /&gt;</div><div class="line"></div><div class="line">    &lt;/<span class="keywordtype">config</span>&gt;</div><div class="line">&lt;/<span class="keywordtype">configuration</span>&gt;</div></div><!-- fragment --><h1>Running YoGoKo Autotalks services</h1>
<h2>Loading the image</h2>
<p><em><b>To be documented in a future version</b></em></p>
<h2>u-boot variables</h2>
<p>The execution of the image may be influenced by u-boot variables.</p>
<p>The following variables are read by the image:</p><ul>
<li><em><b>yogokomwurl</b></em>: Defines the URL of the middleware the image uses to connect to (e.g. tcp://169.254.2.1:49154/)</li>
<li><em><b>yogokoatbridgeaddr</b></em>: Defines the IP address the image uses to connect to instances of atbridge</li>
</ul>
<h2>Starting YoGoKo Autotalks services</h2>
<p>Once the Autotalks Craton 1 platform is flashed with the image provided by YoGoKo, <b>YoGoKo Autotalks services</b> automatically connects and declares to the middleware as a configurable service as the name "AutotalksServices".</p>
<p>Once declared to the middleware, <b>YoGoKo Autotalks services</b> start according to the status controlled through the configuration mechanism. The services may be started by setting the appropriate control in its configuration file or via a <code>mwconfig</code> command:</p>
<p><code>$ mwconfig control start AutotalksServices</code> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Wed Feb 8 2023 10:32:49 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="yogoko-doxy.js"></script>
  </body>
</html>
